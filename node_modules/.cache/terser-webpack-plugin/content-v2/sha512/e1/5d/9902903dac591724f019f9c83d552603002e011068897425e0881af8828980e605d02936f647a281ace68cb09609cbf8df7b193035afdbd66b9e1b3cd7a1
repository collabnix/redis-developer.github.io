{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{122:function(e,a,n){\"use strict\";n.r(a),n.d(a,\"frontMatter\",(function(){return c})),n.d(a,\"metadata\",(function(){return o})),n.d(a,\"toc\",(function(){return l})),n.d(a,\"default\",(function(){return u}));var t=n(3),i=n(7),r=(n(0),n(237)),s=(n(239),n(242),n(243),n(238),[\"components\"]),c={id:\"index-lesson_9\",title:\"Caching REST Services with Redis\",sidebar_label:\"Caching w/ Redis\",slug:\"/develop/java/redis-and-spring-course/lesson_9\"},o={unversionedId:\"develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9\",id:\"develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9\",isDocsHomePage:!1,title:\"Caching REST Services with Redis\",description:\"Objectives\",source:\"@site/docs/develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9.mdx\",slug:\"/develop/java/redis-and-spring-course/lesson_9\",permalink:\"/develop/java/redis-and-spring-course/lesson_9\",editUrl:\"https://github.com/redis-developer/redis-developer/edit/master/docs/develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9.mdx\",version:\"current\",sidebar_label:\"Caching w/ Redis\",sidebar:\"docs\",previous:{title:\"Recommendations with RedisGraph\",permalink:\"/develop/java/redis-and-spring-course/lesson_8\"},next:{title:\"C and Redis\",permalink:\"/develop/C/\"}},l=[{value:\"Objectives\",id:\"objectives\",children:[]},{value:\"Agenda\",id:\"agenda\",children:[]},{value:\"Spring-Redis Caching Recipe\",id:\"spring-redis-caching-recipe\",children:[]},{value:\"Using the @Cacheable annotation\",id:\"using-the-cacheable-annotation\",children:[]}],d={toc:l};function u(e){var a=e.components,c=Object(i.a)(e,s);return Object(r.b)(\"wrapper\",Object(t.a)({},d,c,{components:a,mdxType:\"MDXLayout\"}),Object(r.b)(\"h3\",{id:\"objectives\"},\"Objectives\"),Object(r.b)(\"p\",null,\"Learn how easy it is to use Redis as a cache in your Spring applications\"),Object(r.b)(\"h3\",{id:\"agenda\"},\"Agenda\"),Object(r.b)(\"p\",null,\"In this lesson, students will learn:\"),Object(r.b)(\"ul\",null,Object(r.b)(\"li\",{parentName:\"ul\"},\"The basics of Caching RESTful Services\"),Object(r.b)(\"li\",{parentName:\"ul\"},\"How to configure the Spring Data Redis \",Object(r.b)(\"inlineCode\",{parentName:\"li\"},\"RedisCacheManager\"),\" using \",Object(r.b)(\"inlineCode\",{parentName:\"li\"},\"RedisCacheConfiguration\")),Object(r.b)(\"li\",{parentName:\"ul\"},\"How to use the \",Object(r.b)(\"inlineCode\",{parentName:\"li\"},\"@Cacheable\"),\" annotation to mark a REST controller response as cacheable\\nIf you get stuck:\"),Object(r.b)(\"li\",{parentName:\"ul\"},\"The progress made in this lesson is available on the redi2read github repository at \",Object(r.b)(\"a\",{parentName:\"li\",href:\"https://github.com/redis-developer/redi2read/tree/course/milestone-9\"},\"https://github.com/redis-developer/redi2read/tree/course/milestone-9\"))),Object(r.b)(\"h3\",{id:\"spring-redis-caching-recipe\"},\"Spring-Redis Caching Recipe\"),Object(r.b)(\"p\",null,\"To implement caching in our Spring Boot application:\"),Object(r.b)(\"ul\",null,Object(r.b)(\"li\",{parentName:\"ul\"},\"Configure the Redis cache manager\"),Object(r.b)(\"li\",{parentName:\"ul\"},\"Enable application-wide caching with the \",Object(r.b)(\"inlineCode\",{parentName:\"li\"},\"@EnableCaching\"),\" annotation\")),Object(r.b)(\"p\",null,\"In the main application file (\",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"src/main/java/com/redislabs/edu/redi2read/Redi2readApplication.java\"),\"), add the \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"cacheManager\"),\" method as shown:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",{parentName:\"pre\",className:\"language-java\"},'@SpringBootApplication\\n@EnableCaching\\npublic class Redi2readApplication {\\n\\n  // ...\\n\\n  @Bean\\n  public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\\n    RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig() //\\n        .prefixCacheNameWith(this.getClass().getPackageName() + \".\") //\\n        .entryTtl(Duration.ofHours(1)) //\\n        .disableCachingNullValues();\\n\\n    return RedisCacheManager.builder(connectionFactory) //\\n        .cacheDefaults(config) //\\n        .build();\\n  }\\n\\n  // ...\\n}\\n')),Object(r.b)(\"p\",null,\"The \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"cacheManager\"),\" method takes an instance of the \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"RedisConnectionFactory\"),\". In it we will configure our cache to use a Redis\\nkey prefix equals to our application\\u2019s main package plus a period, that is \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"com.redislabs.edu.redi2read.\"),\"\\nWe also set the TTL or \\u201cTime to Live\\u201d of our cache entries to 1 hour and make sure that we don\\u2019t cache nulls.\\nAt the class level, we also use the annotation \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"@EnableCaching \"),\"to globally enable caching for our applications.\\nThe changes above will need the import statements shown below:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",{parentName:\"pre\",className:\"language-java\"},\"import org.springframework.cache.annotation.EnableCaching;\\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\\nimport org.springframework.data.redis.cache.RedisCacheManager;\\nimport java.time.Duration;\\n\")),Object(r.b)(\"h3\",{id:\"using-the-cacheable-annotation\"},\"Using the @Cacheable annotation\"),Object(r.b)(\"p\",null,\"In the context of a RESTful service, caching makes sense at the handoff between the application and the HTTP protocol.\\nIt seems almost silly to think about caching anything in an application powered by Redis, but complex business logic\\ntouching many data repositories and performing intense calculations can add to your response\\u2019s latency.\\nThe ideal place to perform this caching is at the controller level. For example, let\\u2019s say that we wanted to cache\\nthe responses of our book searches in the \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"BookController\"),\". We could simple add the \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"@Cacheable\"),\" annotation as follows:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",{parentName:\"pre\",className:\"language-java\"},'@GetMapping(\"/search\")\\n@Cacheable(\"book-search\")\\npublic SearchResults<String,String> search(@RequestParam(name=\"q\")String query) {\\n  RediSearchCommands<String, String> commands = searchConnection.sync();\\n  SearchResults<String, String> results = commands.search(searchIndexName, query);\\n  return results;\\n}\\n')),Object(r.b)(\"p\",null,\"Spring will now use Redis to create keys under the \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"com.redislabs.edu.redi2read.book-search\"),\" prefix to store cache entries for the search method.\\nThere is no need to perform cache maintenance yourself. Spring will intercept the request and check the cache;\\nin the case of a cache hit, it will return its value. Otherwise, in case of a miss, it will store the cache\\u2019s search method\\u2019s return value,\\nallowing the method to execute as if there was no cache at all.\\nIf we try the request \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"http://localhost:8080/api/books/search?q=java\"),\":\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",{parentName:\"pre\",className:\"language-bash\"},\"curl --location --request GET 'http://localhost:8080/api/books/search?q=java'\\n\")),Object(r.b)(\"p\",null,\"On the first request we get a 28 ms response time:\"),Object(r.b)(\"p\",null,Object(r.b)(\"img\",{alt:\"PostMan Request 1\",src:n(489).default})),Object(r.b)(\"p\",null,\"Subsequent responses return in the range of 8 ms to 10 ms consistently:\"),Object(r.b)(\"p\",null,Object(r.b)(\"img\",{alt:\"PostMan Request 2\",src:n(490).default})))}u.isMDXComponent=!0},239:function(e,a,n){\"use strict\";var t=n(0),i=n.n(t),r=n(237),s=n(245);n(238),n(55);a.a=function(e){var a=i.a.useState(!1),n=a[0],t=a[1];return i.a.createElement(\"div\",{className:\"ri-container\"},i.a.createElement(\"div\",{className:\"ri-description-short\"},i.a.createElement(\"div\",{className:\"ri-icon\"},i.a.createElement(\"span\",{className:\"fe fe-zap\"})),i.a.createElement(\"div\",{className:\"ri-detail\"},i.a.createElement(\"div\",{className:\"ri-title\"},i.a.createElement(\"a\",{href:e.page},e.title)),i.a.createElement(\"div\",{className:\"ri-description\"},e.description,i.a.Children.count(e.children)>0&&i.a.createElement(\"span\",{className:\"ri-more fe fe-more-horizontal\",onClick:function(){return t(!n)}})))),n&&i.a.createElement(\"div\",{className:\"ri-description-long\"},i.a.createElement(r.a,{components:s.a},e.children)))}},240:function(e,a,n){\"use strict\";var t=n(0),i=n(241);a.a=function(){var e=Object(t.useContext)(i.a);if(null==e)throw new Error(\"`useUserPreferencesContext` is used outside of `Layout` Component.\");return e}},241:function(e,a,n){\"use strict\";var t=n(0),i=Object(t.createContext)(void 0);a.a=i},242:function(e,a,n){\"use strict\";var t=n(0),i=n.n(t),r=n(240),s=n(244),c=n(56),o=n.n(c),l=37,d=39;a.a=function(e){var a=e.lazy,n=e.block,c=e.defaultValue,u=e.values,p=e.groupId,h=e.className,b=Object(r.a)(),m=b.tabGroupChoices,g=b.setTabGroupChoices,f=Object(t.useState)(c),v=f[0],j=f[1],C=t.Children.toArray(e.children);if(null!=p){var O=m[p];null!=O&&O!==v&&u.some((function(e){return e.value===O}))&&j(O)}var N=function(e){j(e),null!=p&&g(p,e)},w=[];return i.a.createElement(\"div\",null,i.a.createElement(\"ul\",{role:\"tablist\",\"aria-orientation\":\"horizontal\",className:Object(s.a)(\"tabs\",{\"tabs--block\":n},h)},u.map((function(e){var a=e.value,n=e.label;return i.a.createElement(\"li\",{role:\"tab\",tabIndex:0,\"aria-selected\":v===a,className:Object(s.a)(\"tabs__item\",o.a.tabItem,{\"tabs__item--active\":v===a}),key:a,ref:function(e){return w.push(e)},onKeyDown:function(e){!function(e,a,n){switch(n.keyCode){case d:!function(e,a){var n=e.indexOf(a)+1;e[n]?e[n].focus():e[0].focus()}(e,a);break;case l:!function(e,a){var n=e.indexOf(a)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,a)}}(w,e.target,e)},onFocus:function(){return N(a)},onClick:function(){N(a)}},n)}))),a?Object(t.cloneElement)(C.filter((function(e){return e.props.value===v}))[0],{className:\"margin-vert--md\"}):i.a.createElement(\"div\",{className:\"margin-vert--md\"},C.map((function(e,a){return Object(t.cloneElement)(e,{key:a,hidden:e.props.value!==v})}))))}},243:function(e,a,n){\"use strict\";var t=n(0),i=n.n(t);a.a=function(e){var a=e.children,n=e.hidden,t=e.className;return i.a.createElement(\"div\",{role:\"tabpanel\",hidden:n,className:t},a)}},489:function(e,a,n){\"use strict\";n.r(a),a.default=n.p+\"assets/images/image1-b14ce854155fedafbf2e5e2ae72c476c.png\"},490:function(e,a,n){\"use strict\";n.r(a),a.default=n.p+\"assets/images/image2-96a417f52c38a686e5b194570d9db8dc.png\"}}]);","name":"45c1b0fa.4831534c.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[54],{\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"frontMatter\", function() { return frontMatter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"metadata\", function() { return metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toc\", function() { return toc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MDXContent; });\n/* harmony import */ var _Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var _Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(237);\n/* harmony import */ var _site_src_theme_RedisCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(239);\n/* harmony import */ var _theme_Tabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(242);\n/* harmony import */ var _theme_TabItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(243);\n/* harmony import */ var _docusaurus_useBaseUrl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(238);\nvar _excluded=[\"components\"];var frontMatter={id:'index-lesson_9',title:'Caching REST Services with Redis',sidebar_label:'Caching w/ Redis',slug:'/develop/java/redis-and-spring-course/lesson_9'};var metadata={\"unversionedId\":\"develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9\",\"id\":\"develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9\",\"isDocsHomePage\":false,\"title\":\"Caching REST Services with Redis\",\"description\":\"Objectives\",\"source\":\"@site/docs/develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9.mdx\",\"slug\":\"/develop/java/redis-and-spring-course/lesson_9\",\"permalink\":\"/develop/java/redis-and-spring-course/lesson_9\",\"editUrl\":\"https://github.com/redis-developer/redis-developer/edit/master/docs/develop/java/spring/redis-and-spring-course/lesson_9/index-lesson_9.mdx\",\"version\":\"current\",\"sidebar_label\":\"Caching w/ Redis\",\"sidebar\":\"docs\",\"previous\":{\"title\":\"Recommendations with RedisGraph\",\"permalink\":\"/develop/java/redis-and-spring-course/lesson_8\"},\"next\":{\"title\":\"C and Redis\",\"permalink\":\"/develop/C/\"}};/* @jsxRuntime classic */ /* @jsx mdx */var toc=[{value:'Objectives',id:'objectives',children:[]},{value:'Agenda',id:'agenda',children:[]},{value:'Spring-Redis Caching Recipe',id:'spring-redis-caching-recipe',children:[]},{value:'Using the @Cacheable annotation',id:'using-the-cacheable-annotation',children:[]}];var layoutProps={toc:toc};var MDXLayout=\"wrapper\";function MDXContent(_ref){var components=_ref.components,props=Object(_Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(MDXLayout,Object(_Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},layoutProps,props,{components:components,mdxType:\"MDXLayout\"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"h3\",{\"id\":\"objectives\"},\"Objectives\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Learn how easy it is to use Redis as a cache in your Spring applications\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"h3\",{\"id\":\"agenda\"},\"Agenda\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"In this lesson, students will learn:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"ul\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"li\",{parentName:\"ul\"},\"The basics of Caching RESTful Services\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"li\",{parentName:\"ul\"},\"How to configure the Spring Data Redis \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"li\"},\"RedisCacheManager\"),\" using \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"li\"},\"RedisCacheConfiguration\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"li\",{parentName:\"ul\"},\"How to use the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"li\"},\"@Cacheable\"),\" annotation to mark a REST controller response as cacheable\\nIf you get stuck:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"li\",{parentName:\"ul\"},\"The progress made in this lesson is available on the redi2read github repository at \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"a\",{parentName:\"li\",\"href\":\"https://github.com/redis-developer/redi2read/tree/course/milestone-9\"},\"https://github.com/redis-developer/redi2read/tree/course/milestone-9\"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"h3\",{\"id\":\"spring-redis-caching-recipe\"},\"Spring-Redis Caching Recipe\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"To implement caching in our Spring Boot application:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"ul\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"li\",{parentName:\"ul\"},\"Configure the Redis cache manager\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"li\",{parentName:\"ul\"},\"Enable application-wide caching with the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"li\"},\"@EnableCaching\"),\" annotation\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"In the main application file (\",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"src/main/java/com/redislabs/edu/redi2read/Redi2readApplication.java\"),\"), add the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"cacheManager\"),\" method as shown:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-java\"},\"@SpringBootApplication\\n@EnableCaching\\npublic class Redi2readApplication {\\n\\n  // ...\\n\\n  @Bean\\n  public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\\n    RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig() //\\n        .prefixCacheNameWith(this.getClass().getPackageName() + \\\".\\\") //\\n        .entryTtl(Duration.ofHours(1)) //\\n        .disableCachingNullValues();\\n\\n    return RedisCacheManager.builder(connectionFactory) //\\n        .cacheDefaults(config) //\\n        .build();\\n  }\\n\\n  // ...\\n}\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"The \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"cacheManager\"),\" method takes an instance of the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"RedisConnectionFactory\"),\". In it we will configure our cache to use a Redis\\nkey prefix equals to our application\\u2019s main package plus a period, that is \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"com.redislabs.edu.redi2read.\"),\"\\nWe also set the TTL or \\u201CTime to Live\\u201D of our cache entries to 1 hour and make sure that we don\\u2019t cache nulls.\\nAt the class level, we also use the annotation \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"@EnableCaching \"),\"to globally enable caching for our applications.\\nThe changes above will need the import statements shown below:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-java\"},\"import org.springframework.cache.annotation.EnableCaching;\\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\\nimport org.springframework.data.redis.cache.RedisCacheManager;\\nimport java.time.Duration;\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"h3\",{\"id\":\"using-the-cacheable-annotation\"},\"Using the @Cacheable annotation\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"In the context of a RESTful service, caching makes sense at the handoff between the application and the HTTP protocol.\\nIt seems almost silly to think about caching anything in an application powered by Redis, but complex business logic\\ntouching many data repositories and performing intense calculations can add to your response\\u2019s latency.\\nThe ideal place to perform this caching is at the controller level. For example, let\\u2019s say that we wanted to cache\\nthe responses of our book searches in the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"BookController\"),\". We could simple add the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"@Cacheable\"),\" annotation as follows:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-java\"},\"@GetMapping(\\\"/search\\\")\\n@Cacheable(\\\"book-search\\\")\\npublic SearchResults<String,String> search(@RequestParam(name=\\\"q\\\")String query) {\\n  RediSearchCommands<String, String> commands = searchConnection.sync();\\n  SearchResults<String, String> results = commands.search(searchIndexName, query);\\n  return results;\\n}\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Spring will now use Redis to create keys under the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"com.redislabs.edu.redi2read.book-search\"),\" prefix to store cache entries for the search method.\\nThere is no need to perform cache maintenance yourself. Spring will intercept the request and check the cache;\\nin the case of a cache hit, it will return its value. Otherwise, in case of a miss, it will store the cache\\u2019s search method\\u2019s return value,\\nallowing the method to execute as if there was no cache at all.\\nIf we try the request \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"http://localhost:8080/api/books/search?q=java\"),\":\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-bash\"},\"curl --location --request GET 'http://localhost:8080/api/books/search?q=java'\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"On the first request we get a 28 ms response time:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"img\",{alt:\"PostMan Request 1\",src:__webpack_require__(489).default})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Subsequent responses return in the range of 8 ms to 10 ms consistently:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"img\",{alt:\"PostMan Request 2\",src:__webpack_require__(490).default})));};MDXContent.isMDXComponent=true;\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(237);\n/* harmony import */ var _theme_MDXComponents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(245);\n/* harmony import */ var _docusaurus_useBaseUrl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(238);\n/* harmony import */ var _styles_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(55);\n/* harmony import */ var _styles_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_4__);\nvar RoadmapItem=function RoadmapItem(props){var _React$useState=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),displayLong=_React$useState[0],setDisplayLong=_React$useState[1];return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"ri-container\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"ri-description-short\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"ri-icon\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\",{className:\"fe fe-zap\"})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"ri-detail\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"ri-title\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\",{href:props.page},props.title)),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"ri-description\"},props.description,react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.count(props.children)>0&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\",{className:\"ri-more fe fe-more-horizontal\",onClick:function onClick(){return setDisplayLong(!displayLong);}})))),displayLong&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"ri-description-long\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__[/* MDXProvider */ \"a\"],{components:_theme_MDXComponents__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"]},props.children)));};/* harmony default export */ __webpack_exports__[\"a\"] = (RoadmapItem);\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _theme_UserPreferencesContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(241);\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */function useUserPreferencesContext(){var context=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_theme_UserPreferencesContext__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"]);if(context==null){throw new Error('`useUserPreferencesContext` is used outside of `Layout` Component.');}return context;}/* harmony default export */ __webpack_exports__[\"a\"] = (useUserPreferencesContext);\n\n/***/ }),\n\n/***/ 241:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var UserPreferencesContext=/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__[\"createContext\"])(undefined);/* harmony default export */ __webpack_exports__[\"a\"] = (UserPreferencesContext);\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _theme_hooks_useUserPreferencesContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(240);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(244);\n/* harmony import */ var _styles_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56);\n/* harmony import */ var _styles_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var keys={left:37,right:39};function Tabs(props){var lazy=props.lazy,block=props.block,defaultValue=props.defaultValue,values=props.values,groupId=props.groupId,className=props.className;var _useUserPreferencesCo=Object(_theme_hooks_useUserPreferencesContext__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(),tabGroupChoices=_useUserPreferencesCo.tabGroupChoices,setTabGroupChoices=_useUserPreferencesCo.setTabGroupChoices;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(defaultValue),selectedValue=_useState[0],setSelectedValue=_useState[1];var children=react__WEBPACK_IMPORTED_MODULE_0__[\"Children\"].toArray(props.children);if(groupId!=null){var relevantTabGroupChoice=tabGroupChoices[groupId];if(relevantTabGroupChoice!=null&&relevantTabGroupChoice!==selectedValue&&values.some(function(value){return value.value===relevantTabGroupChoice;})){setSelectedValue(relevantTabGroupChoice);}}var changeSelectedValue=function changeSelectedValue(newValue){setSelectedValue(newValue);if(groupId!=null){setTabGroupChoices(groupId,newValue);}};var tabRefs=[];var focusNextTab=function focusNextTab(tabs,target){var next=tabs.indexOf(target)+1;if(!tabs[next]){tabs[0].focus();}else{tabs[next].focus();}};var focusPreviousTab=function focusPreviousTab(tabs,target){var prev=tabs.indexOf(target)-1;if(!tabs[prev]){tabs[tabs.length-1].focus();}else{tabs[prev].focus();}};var handleKeydown=function handleKeydown(tabs,target,event){switch(event.keyCode){case keys.right:focusNextTab(tabs,target);break;case keys.left:focusPreviousTab(tabs,target);break;default:break;}};return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\",{role:\"tablist\",\"aria-orientation\":\"horizontal\",className:Object(clsx__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])('tabs',{'tabs--block':block},className)},values.map(function(_ref){var value=_ref.value,label=_ref.label;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\",{role:\"tab\",tabIndex:0,\"aria-selected\":selectedValue===value,className:Object(clsx__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])('tabs__item',_styles_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.tabItem,{'tabs__item--active':selectedValue===value}),key:value,ref:function ref(tabControl){return tabRefs.push(tabControl);},onKeyDown:function onKeyDown(event){handleKeydown(tabRefs,event.target,event);},onFocus:function onFocus(){return changeSelectedValue(value);},onClick:function onClick(){changeSelectedValue(value);}},label);})),lazy?/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__[\"cloneElement\"])(children.filter(function(tabItem){return tabItem.props.value===selectedValue;})[0],{className:'margin-vert--md'}):/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{className:\"margin-vert--md\"},children.map(function(tabItem,i){return/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__[\"cloneElement\"])(tabItem,{key:i,hidden:tabItem.props.value!==selectedValue});})));}/* harmony default export */ __webpack_exports__[\"a\"] = (Tabs);\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */function TabItem(_ref){var children=_ref.children,hidden=_ref.hidden,className=_ref.className;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\",{role:\"tabpanel\",hidden:hidden,className:className},children);}/* harmony default export */ __webpack_exports__[\"a\"] = (TabItem);\n\n/***/ }),\n\n/***/ 489:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"assets/images/image1-b14ce854155fedafbf2e5e2ae72c476c.png\");\n\n/***/ }),\n\n/***/ 490:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"assets/images/image2-96a417f52c38a686e5b194570d9db8dc.png\");\n\n/***/ })\n\n}]);","inputSourceMap":null}