{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{116:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"frontMatter\",(function(){return s})),n.d(t,\"metadata\",(function(){return c})),n.d(t,\"toc\",(function(){return d})),n.d(t,\"default\",(function(){return u}));var r=n(3),o=n(7),a=(n(0),n(237)),i=(n(238),[\"components\"]),s={id:\"index-redisjson\",title:\"Managing Document Data with RedisJSON\",sidebar_label:\"RedisJSON\",slug:\"/develop/node/nodecrashcourse/redisjson\"},c={unversionedId:\"develop/node/node-crash-course/redisjson/index-redisjson\",id:\"develop/node/node-crash-course/redisjson/index-redisjson\",isDocsHomePage:!1,title:\"Managing Document Data with RedisJSON\",description:\"We used Redis' built-in Hash data type to represent our user and location entities.  Hashes are great for this, but they are limited in that they can only contain flat name/value pairs.  For our locations, we want to store extra details in a more structured way.\",source:\"@site/docs/develop/node/node-crash-course/redisjson/index-redisjson.mdx\",slug:\"/develop/node/nodecrashcourse/redisjson\",permalink:\"/develop/node/nodecrashcourse/redisjson\",editUrl:\"https://github.com/redis-developer/redis-developer/edit/master/docs/develop/node/node-crash-course/redisjson/index-redisjson.mdx\",version:\"current\",sidebar_label:\"RedisJSON\",sidebar:\"docs\",previous:{title:\"Introduction to Redis Modules\",permalink:\"/develop/node/nodecrashcourse/introductiontomodules\"},next:{title:\"Indexing and Querying with RediSearch\",permalink:\"/develop/node/nodecrashcourse/redisearch\"}},d=[{value:\"Coding Exercise\",id:\"coding-exercise\",children:[]},{value:\"External Resources\",id:\"external-resources\",children:[]}],l={toc:d};function u(e){var t=e.components,s=Object(o.a)(e,i);return Object(a.b)(\"wrapper\",Object(r.a)({},l,s,{components:t,mdxType:\"MDXLayout\"}),Object(a.b)(\"div\",{class:\"text--center\"},Object(a.b)(\"iframe\",{width:\"560\",height:\"315\",src:\"https://www.youtube.com/embed/NAGMJ6kEVEQ\",frameborder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowfullscreen:!0})),Object(a.b)(\"p\",null,\"We used Redis' built-in Hash data type to represent our user and location entities.  Hashes are great for this, but they are limited in that they can only contain flat name/value pairs.  For our locations, we want to store extra details in a more structured way.\"),Object(a.b)(\"p\",null,\"Here's an example of the additional data we want to store about a location:\"),Object(a.b)(\"pre\",null,Object(a.b)(\"code\",{parentName:\"pre\",className:\"language-json\"},'{\\n  \"id\": 121,\\n  \"hours\": [\\n    { \"day\": \"Monday\", \"hours\": \"6-7\" },\\n    { \"day\": \"Tuesday\", \"hours\": \"6-7\" },\\n    { \"day\": \"Wednesday\", \"hours\": \"7-8\" },\\n    { \"day\": \"Thursday\", \"hours\": \"6-9\" },\\n    { \"day\": \"Friday\", \"hours\": \"8-5\" },\\n    { \"day\": \"Saturday\", \"hours\": \"9-6\" },\\n    { \"day\": \"Sunday\", \"hours\": \"6-4\" }\\n  ],\\n  \"socials\": [\\n    {\\n      \"instagram\": \"theginclub\",\\n      \"facebook\": \"theginclub\",\\n      \"twitter\": \"theginclub\"\\n    }\\n  ],\\n  \"website\": \"www.theginclub.com\",\\n  \"description\": \"Lorem ipsum...\",\\n  \"phone\": \"(318) 251-0608\"\\n}\\n')),Object(a.b)(\"p\",null,\"We could store this data as serialized JSON in a Redis String, but then our application would have to retrieve and parse the entire document every time it wanted to read some of the data.  And we'd have to do the same to update it too.  Furthermore, with this approach, update operations aren't atomic and a second client could update the JSON stored at a given key while we're making changes to it in our application code.  Then, when we serialize our version of the JSON back into the Redis String, the other client's changes would be lost.\"),Object(a.b)(\"p\",null,\"RedisJSON adds a new JSON data type to Redis, and a query syntax for selecting and updating individual elements in a JSON document atomically on the Redis server.  This makes our application code simpler, more efficient, and much more reliable.\"),Object(a.b)(\"h2\",{id:\"coding-exercise\"},\"Coding Exercise\"),Object(a.b)(\"p\",null,\"In this exercise, you'll complete the code for an API route that gets just the object representing a location's opening hours for a given day.  Open the file \",Object(a.b)(\"inlineCode\",{parentName:\"p\"},\"src/routes/location_routes.js\"),\", and find the route for \",Object(a.b)(\"inlineCode\",{parentName:\"p\"},\"/location/:locationId/hours/:day\"),\".  The starter code looks like this:\"),Object(a.b)(\"pre\",null,Object(a.b)(\"code\",{parentName:\"pre\",className:\"language-javascript\"},\"// EXERCISE: Get opening hours for a given day.\\nrouter.get(\\n  '/location/:locationId/hours/:day',\\n  [\\n    param('locationId').isInt({ min: 1 }),\\n    param('day').isInt({ min: 0, max: 6 }),\\n    apiErrorReporter,\\n  ],\\n  async (req, res) => {\\n    /* eslint-disable no-unused-vars */\\n    const { locationId, day } = req.params;\\n    /* eslint-enable */\\n    const locationDetailsKey = redis.getKeyName('locationdetails', locationId);\\n\\n    // TODO: Get the opening hours for a given day from\\n    // the JSON stored at the key held in locationDetailsKey.\\n    // You will need to provide the correct JSON path to the hours\\n    // array and return the element held in the position specified by\\n    // the day variable.  Make sure RedisJSON returns only the day\\n    // requested!\\n    const jsonPath = 'TODO';\\n\\n    /* eslint-enable no-unused-vars */\\n    const hoursForDay = JSON.parse(await redisClient.call('JSON.GET', locationDetailsKey, jsonPath));\\n    /* eslint-disable */\\n\\n    // If null response, return empty object.\\n    res.status(200).json(hoursForDay || {});\\n  },\\n);\\n\")),Object(a.b)(\"p\",null,'You\\'ll need to update the code to provide the correct JSON path, replacing the \"TODO\" value with a JSON path expression.'),Object(a.b)(\"p\",null,\"Looking at the JSON stored at key \",Object(a.b)(\"inlineCode\",{parentName:\"p\"},\"ncc:locationdetails:121\"),\", we see that the opening hours are stored as an array of objects in a field named \",Object(a.b)(\"inlineCode\",{parentName:\"p\"},\"hours\"),\", where day 0 is Monday and day 6 is Sunday:\"),Object(a.b)(\"p\",null,Object(a.b)(\"img\",{alt:\"Location Details in RedisInsight\",src:n(484).default})),Object(a.b)(\"p\",null,\"So you'll need a JSON path query that gets the right element from the \",Object(a.b)(\"inlineCode\",{parentName:\"p\"},\"hours\"),\" array depending on the value stored in the variable \",Object(a.b)(\"inlineCode\",{parentName:\"p\"},\"day\"),\".\"),Object(a.b)(\"p\",null,\"If you're using redis-cli, you can look at the structure of the JSON document with the following command:\"),Object(a.b)(\"pre\",null,Object(a.b)(\"code\",{parentName:\"pre\",className:\"language-bash\"},\"json.get ncc:locationdetails:121 .\\n\")),Object(a.b)(\"p\",null,\"Make sure your query returns only the day requested, so that you don't have to write Node.js code to filter the value returned from Redis.  Use the \",Object(a.b)(\"a\",{parentName:\"p\",href:\"https://oss.redis.com/redisjson/path/\"},\"RedisJSON path syntax page\"),\" to help you formulate the right query.\"),Object(a.b)(\"p\",null,\"To test your code, start the server with:\"),Object(a.b)(\"pre\",null,Object(a.b)(\"code\",{parentName:\"pre\",className:\"language-bash\"},\"$ npm run dev\\n\")),Object(a.b)(\"p\",null,\"Recall that this will allow you to edit the code and try your changes without restarting the server.\"),Object(a.b)(\"p\",null,\"If you have the correct JSON path in your code, visiting \",Object(a.b)(\"inlineCode\",{parentName:\"p\"},\"http://localhost:80801/api/location/121/hours/2\"),\" should return:\"),Object(a.b)(\"pre\",null,Object(a.b)(\"code\",{parentName:\"pre\",className:\"language-json\"},'{\\n  \"day\": \"Wednesday\",\\n  \"hours\": \"7-8\"\\n}\\n')),Object(a.b)(\"p\",null,\"Don't forget that if you have questions or need help, we're available on \",Object(a.b)(\"a\",{parentName:\"p\",href:\"https://discord.gg/redis\"},\"Discord\"),\".\"),Object(a.b)(\"h2\",{id:\"external-resources\"},\"External Resources\"),Object(a.b)(\"p\",null,\"In this video, Justin introduces RedisJSON using a fun taco truck example!\"),Object(a.b)(\"div\",{class:\"text--center\"},Object(a.b)(\"iframe\",{width:\"560\",height:\"315\",src:\"https://www.youtube.com/embed/2mFakgHKme4\",frameborder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowfullscreen:!0})),Object(a.b)(\"p\",null,\"Learn more about RedisJSON at its \",Object(a.b)(\"a\",{parentName:\"p\",href:\"https://redisjson.io/\"},\"official homepage\"),\".\"))}u.isMDXComponent=!0},237:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u})),n.d(t,\"b\",(function(){return b}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=o.a.createContext({}),l=function(e){var t=o.a.useContext(d),n=t;return e&&(n=\"function\"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=l(e.components);return o.a.createElement(d.Provider,{value:t},e.children)},p={inlineCode:\"code\",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},h=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,d=c(e,[\"components\",\"mdxType\",\"originalType\",\"parentName\"]),u=l(n),h=r,b=u[\"\".concat(i,\".\").concat(h)]||u[h]||p[h]||a;return n?o.a.createElement(b,s(s({ref:t},d),{},{components:n})):o.a.createElement(b,s({ref:t},d))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if(\"string\"==typeof e||r){var a=n.length,i=new Array(a);i[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType=\"string\"==typeof e?e:r,i[1]=s;for(var d=2;d<a;d++)i[d]=n[d];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}h.displayName=\"MDXCreateElement\"},238:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return a})),n.d(t,\"a\",(function(){return i}));var r=n(20),o=n(246);function a(){var e=Object(r.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?\"/\":t,a=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var a=void 0===r?{}:r,i=a.forcePrependBaseUrl,s=void 0!==i&&i,c=a.absolute,d=void 0!==c&&c;if(!n)return n;if(n.startsWith(\"#\"))return n;if(Object(o.b)(n))return n;if(s)return t+n;var l=n.startsWith(t)?n:t+n.replace(/^\\//,\"\");return d?e+l:l}(a,n,e,t)}}}function i(e,t){return void 0===t&&(t={}),(0,a().withBaseUrl)(e,t)}},246:function(e,t,n){\"use strict\";function r(e){return!0===/^(\\w*:|\\/\\/)/.test(e)}function o(e){return void 0!==e&&!r(e)}n.d(t,\"b\",(function(){return r})),n.d(t,\"a\",(function(){return o}))},484:function(e,t,n){\"use strict\";n.r(t),t.default=n.p+\"assets/images/locationdetails_redis_json-41f31f97850de2e1f8623a79e4f2c1b2.png\"}}]);","name":"3bb72ea1.ffbe09e4.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[48],{\n\n/***/ 116:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"frontMatter\", function() { return frontMatter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"metadata\", function() { return metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toc\", function() { return toc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MDXContent; });\n/* harmony import */ var _Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var _Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(237);\n/* harmony import */ var _docusaurus_useBaseUrl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(238);\nvar _excluded=[\"components\"];var frontMatter={id:'index-redisjson',title:'Managing Document Data with RedisJSON',sidebar_label:'RedisJSON',slug:'/develop/node/nodecrashcourse/redisjson'};var metadata={\"unversionedId\":\"develop/node/node-crash-course/redisjson/index-redisjson\",\"id\":\"develop/node/node-crash-course/redisjson/index-redisjson\",\"isDocsHomePage\":false,\"title\":\"Managing Document Data with RedisJSON\",\"description\":\"We used Redis' built-in Hash data type to represent our user and location entities.  Hashes are great for this, but they are limited in that they can only contain flat name/value pairs.  For our locations, we want to store extra details in a more structured way.\",\"source\":\"@site/docs/develop/node/node-crash-course/redisjson/index-redisjson.mdx\",\"slug\":\"/develop/node/nodecrashcourse/redisjson\",\"permalink\":\"/develop/node/nodecrashcourse/redisjson\",\"editUrl\":\"https://github.com/redis-developer/redis-developer/edit/master/docs/develop/node/node-crash-course/redisjson/index-redisjson.mdx\",\"version\":\"current\",\"sidebar_label\":\"RedisJSON\",\"sidebar\":\"docs\",\"previous\":{\"title\":\"Introduction to Redis Modules\",\"permalink\":\"/develop/node/nodecrashcourse/introductiontomodules\"},\"next\":{\"title\":\"Indexing and Querying with RediSearch\",\"permalink\":\"/develop/node/nodecrashcourse/redisearch\"}};/* @jsxRuntime classic */ /* @jsx mdx */var toc=[{value:'Coding Exercise',id:'coding-exercise',children:[]},{value:'External Resources',id:'external-resources',children:[]}];var layoutProps={toc:toc};var MDXLayout=\"wrapper\";function MDXContent(_ref){var components=_ref.components,props=Object(_Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(MDXLayout,Object(_Users_ajeetraina_staging_redis_developer_github_io_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},layoutProps,props,{components:components,mdxType:\"MDXLayout\"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"div\",{class:\"text--center\"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"iframe\",{width:\"560\",height:\"315\",src:\"https://www.youtube.com/embed/NAGMJ6kEVEQ\",frameborder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowfullscreen:true})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"We used Redis' built-in Hash data type to represent our user and location entities.  Hashes are great for this, but they are limited in that they can only contain flat name/value pairs.  For our locations, we want to store extra details in a more structured way.\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Here's an example of the additional data we want to store about a location:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},\"{\\n  \\\"id\\\": 121,\\n  \\\"hours\\\": [\\n    { \\\"day\\\": \\\"Monday\\\", \\\"hours\\\": \\\"6-7\\\" },\\n    { \\\"day\\\": \\\"Tuesday\\\", \\\"hours\\\": \\\"6-7\\\" },\\n    { \\\"day\\\": \\\"Wednesday\\\", \\\"hours\\\": \\\"7-8\\\" },\\n    { \\\"day\\\": \\\"Thursday\\\", \\\"hours\\\": \\\"6-9\\\" },\\n    { \\\"day\\\": \\\"Friday\\\", \\\"hours\\\": \\\"8-5\\\" },\\n    { \\\"day\\\": \\\"Saturday\\\", \\\"hours\\\": \\\"9-6\\\" },\\n    { \\\"day\\\": \\\"Sunday\\\", \\\"hours\\\": \\\"6-4\\\" }\\n  ],\\n  \\\"socials\\\": [\\n    {\\n      \\\"instagram\\\": \\\"theginclub\\\",\\n      \\\"facebook\\\": \\\"theginclub\\\",\\n      \\\"twitter\\\": \\\"theginclub\\\"\\n    }\\n  ],\\n  \\\"website\\\": \\\"www.theginclub.com\\\",\\n  \\\"description\\\": \\\"Lorem ipsum...\\\",\\n  \\\"phone\\\": \\\"(318) 251-0608\\\"\\n}\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"We could store this data as serialized JSON in a Redis String, but then our application would have to retrieve and parse the entire document every time it wanted to read some of the data.  And we'd have to do the same to update it too.  Furthermore, with this approach, update operations aren't atomic and a second client could update the JSON stored at a given key while we're making changes to it in our application code.  Then, when we serialize our version of the JSON back into the Redis String, the other client's changes would be lost.\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"RedisJSON adds a new JSON data type to Redis, and a query syntax for selecting and updating individual elements in a JSON document atomically on the Redis server.  This makes our application code simpler, more efficient, and much more reliable.\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"h2\",{\"id\":\"coding-exercise\"},\"Coding Exercise\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"In this exercise, you'll complete the code for an API route that gets just the object representing a location's opening hours for a given day.  Open the file \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"src/routes/location_routes.js\"),\", and find the route for \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"/location/:locationId/hours/:day\"),\".  The starter code looks like this:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-javascript\"},\"// EXERCISE: Get opening hours for a given day.\\nrouter.get(\\n  '/location/:locationId/hours/:day',\\n  [\\n    param('locationId').isInt({ min: 1 }),\\n    param('day').isInt({ min: 0, max: 6 }),\\n    apiErrorReporter,\\n  ],\\n  async (req, res) => {\\n    /* eslint-disable no-unused-vars */\\n    const { locationId, day } = req.params;\\n    /* eslint-enable */\\n    const locationDetailsKey = redis.getKeyName('locationdetails', locationId);\\n\\n    // TODO: Get the opening hours for a given day from\\n    // the JSON stored at the key held in locationDetailsKey.\\n    // You will need to provide the correct JSON path to the hours\\n    // array and return the element held in the position specified by\\n    // the day variable.  Make sure RedisJSON returns only the day\\n    // requested!\\n    const jsonPath = 'TODO';\\n\\n    /* eslint-enable no-unused-vars */\\n    const hoursForDay = JSON.parse(await redisClient.call('JSON.GET', locationDetailsKey, jsonPath));\\n    /* eslint-disable */\\n\\n    // If null response, return empty object.\\n    res.status(200).json(hoursForDay || {});\\n  },\\n);\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"You'll need to update the code to provide the correct JSON path, replacing the \\\"TODO\\\" value with a JSON path expression.\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Looking at the JSON stored at key \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"ncc:locationdetails:121\"),\", we see that the opening hours are stored as an array of objects in a field named \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"hours\"),\", where day 0 is Monday and day 6 is Sunday:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"img\",{alt:\"Location Details in RedisInsight\",src:__webpack_require__(484).default})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"So you'll need a JSON path query that gets the right element from the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"hours\"),\" array depending on the value stored in the variable \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"day\"),\".\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"If you're using redis-cli, you can look at the structure of the JSON document with the following command:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-bash\"},\"json.get ncc:locationdetails:121 .\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Make sure your query returns only the day requested, so that you don't have to write Node.js code to filter the value returned from Redis.  Use the \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"a\",{parentName:\"p\",\"href\":\"https://oss.redis.com/redisjson/path/\"},\"RedisJSON path syntax page\"),\" to help you formulate the right query.\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"To test your code, start the server with:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-bash\"},\"$ npm run dev\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Recall that this will allow you to edit the code and try your changes without restarting the server.\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"If you have the correct JSON path in your code, visiting \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"inlineCode\",{parentName:\"p\"},\"http://localhost:80801/api/location/121/hours/2\"),\" should return:\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"pre\",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},\"{\\n  \\\"day\\\": \\\"Wednesday\\\",\\n  \\\"hours\\\": \\\"7-8\\\"\\n}\\n\")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Don't forget that if you have questions or need help, we're available on \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"a\",{parentName:\"p\",\"href\":\"https://discord.gg/redis\"},\"Discord\"),\".\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"h2\",{\"id\":\"external-resources\"},\"External Resources\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"In this video, Justin introduces RedisJSON using a fun taco truck example!\"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"div\",{class:\"text--center\"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"iframe\",{width:\"560\",height:\"315\",src:\"https://www.youtube.com/embed/2mFakgHKme4\",frameborder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowfullscreen:true})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"p\",null,\"Learn more about RedisJSON at its \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__[/* mdx */ \"b\"])(\"a\",{parentName:\"p\",\"href\":\"https://redisjson.io/\"},\"official homepage\"),\".\"));};MDXContent.isMDXComponent=true;\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export MDXContext */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MDXProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createElement; });\n/* unused harmony export useMDXComponents */\n/* unused harmony export withMDXComponents */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar isFunction = function isFunction(obj) {\n  return typeof obj === 'function';\n};\n\nvar MDXContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext({});\nvar withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    var allComponents = useMDXComponents(props.components);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _extends({}, props, {\n      components: allComponents\n    }));\n  };\n};\nvar useMDXComponents = function useMDXComponents(components) {\n  var contextComponents = react__WEBPACK_IMPORTED_MODULE_0___default.a.useContext(MDXContext);\n  var allComponents = contextComponents;\n\n  if (components) {\n    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);\n  }\n\n  return allComponents;\n};\nvar MDXProvider = function MDXProvider(props) {\n  var allComponents = useMDXComponents(props.components);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MDXContext.Provider, {\n    value: allComponents\n  }, props.children);\n};\n\nvar TYPE_PROP_NAME = 'mdxType';\nvar DEFAULTS = {\n  inlineCode: 'code',\n  wrapper: function wrapper(_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, {}, children);\n  }\n};\nvar MDXCreateElement = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {\n  var propComponents = props.components,\n      mdxType = props.mdxType,\n      originalType = props.originalType,\n      parentName = props.parentName,\n      etc = _objectWithoutProperties(props, [\"components\", \"mdxType\", \"originalType\", \"parentName\"]);\n\n  var components = useMDXComponents(propComponents);\n  var type = mdxType;\n  var Component = components[\"\".concat(parentName, \".\").concat(type)] || components[type] || DEFAULTS[type] || originalType;\n\n  if (propComponents) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _objectSpread2(_objectSpread2({\n      ref: ref\n    }, etc), {}, {\n      components: propComponents\n    }));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _objectSpread2({\n    ref: ref\n  }, etc));\n});\nMDXCreateElement.displayName = 'MDXCreateElement';\nfunction createElement (type, props) {\n  var args = arguments;\n  var mdxType = props && props.mdxType;\n\n  if (typeof type === 'string' || mdxType) {\n    var argsLength = args.length;\n    var createElementArgArray = new Array(argsLength);\n    createElementArgArray[0] = MDXCreateElement;\n    var newProps = {};\n\n    for (var key in props) {\n      if (hasOwnProperty.call(props, key)) {\n        newProps[key] = props[key];\n      }\n    }\n\n    newProps.originalType = type;\n    newProps[TYPE_PROP_NAME] = typeof type === 'string' ? type : mdxType;\n    createElementArgArray[1] = newProps;\n\n    for (var i = 2; i < argsLength; i++) {\n      createElementArgArray[i] = args[i];\n    }\n\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement.apply(null, createElementArgArray);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement.apply(null, args);\n}\n\n\n\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return useBaseUrlUtils; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useBaseUrl; });\n/* harmony import */ var _useDocusaurusContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20);\n/* harmony import */ var _isInternalUrl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(246);\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */function addBaseUrl(siteUrl,baseUrl,url,_temp){var _ref=_temp===void 0?{}:_temp,_ref$forcePrependBase=_ref.forcePrependBaseUrl,forcePrependBaseUrl=_ref$forcePrependBase===void 0?false:_ref$forcePrependBase,_ref$absolute=_ref.absolute,absolute=_ref$absolute===void 0?false:_ref$absolute;if(!url){return url;}// it never makes sense to add a base url to a local anchor url\nif(url.startsWith('#')){return url;}// it never makes sense to add a base url to an url with a protocol\nif(Object(_isInternalUrl__WEBPACK_IMPORTED_MODULE_1__[/* hasProtocol */ \"b\"])(url)){return url;}if(forcePrependBaseUrl){return baseUrl+url;}// We should avoid adding the baseurl twice if it's already there\nvar shouldAddBaseUrl=!url.startsWith(baseUrl);var basePath=shouldAddBaseUrl?baseUrl+url.replace(/^\\//,''):url;return absolute?siteUrl+basePath:basePath;}function useBaseUrlUtils(){var _useDocusaurusContext=Object(_useDocusaurusContext__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(),_useDocusaurusContext2=_useDocusaurusContext.siteConfig;_useDocusaurusContext2=_useDocusaurusContext2===void 0?{}:_useDocusaurusContext2;var _useDocusaurusContext3=_useDocusaurusContext2.baseUrl,baseUrl=_useDocusaurusContext3===void 0?'/':_useDocusaurusContext3,siteUrl=_useDocusaurusContext2.url;return{withBaseUrl:function withBaseUrl(url,options){return addBaseUrl(siteUrl,baseUrl,url,options);}};}function useBaseUrl(url,options){if(options===void 0){options={};}var _useBaseUrlUtils=useBaseUrlUtils(),withBaseUrl=_useBaseUrlUtils.withBaseUrl;return withBaseUrl(url,options);}\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return hasProtocol; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return isInternalUrl; });\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */function hasProtocol(url){return /^(\\w*:|\\/\\/)/.test(url)===true;}function isInternalUrl(url){return typeof url!=='undefined'&&!hasProtocol(url);}\n\n/***/ }),\n\n/***/ 484:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"assets/images/locationdetails_redis_json-41f31f97850de2e1f8623a79e4f2c1b2.png\");\n\n/***/ })\n\n}]);","inputSourceMap":null}