{"remainingRequest":"/Users/ajeetraina/projects/8sep/redis-developer.github.io/node_modules/babel-loader/lib/index.js??ref--11-1!/Users/ajeetraina/projects/8sep/redis-developer.github.io/node_modules/@docusaurus/mdx-loader/src/index.js??ref--11-2!/Users/ajeetraina/projects/8sep/redis-developer.github.io/node_modules/@docusaurus/plugin-content-docs/lib/markdown/index.js??ref--11-3!/Users/ajeetraina/projects/8sep/redis-developer.github.io/docs/howtos/shoppingcart/index-shoppingcart.mdx","dependencies":[{"path":"/Users/ajeetraina/projects/8sep/redis-developer.github.io/docs/howtos/shoppingcart/index-shoppingcart.mdx","mtime":1631077489337},{"path":"/Users/ajeetraina/projects/8sep/redis-developer.github.io/.docusaurus/docusaurus-plugin-content-docs/default/site-docs-howtos-shoppingcart-index-shoppingcart-mdx-ab7.json","mtime":1631077870287},{"path":"/Users/ajeetraina/projects/8sep/redis-developer.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1631077703630},{"path":"/Users/ajeetraina/projects/8sep/redis-developer.github.io/node_modules/babel-loader/lib/index.js","mtime":1631077703341},{"path":"/Users/ajeetraina/projects/8sep/redis-developer.github.io/node_modules/@docusaurus/mdx-loader/src/index.js","mtime":1631077777797},{"path":"/Users/ajeetraina/projects/8sep/redis-developer.github.io/node_modules/@docusaurus/plugin-content-docs/lib/markdown/index.js","mtime":1631077776334}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9leHRlbmRzIGZyb20iL1VzZXJzL2FqZWV0cmFpbmEvcHJvamVjdHMvOHNlcC9yZWRpcy1kZXZlbG9wZXIuZ2l0aHViLmlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzIjtpbXBvcnQgUmVhY3QgZnJvbSdyZWFjdCc7aW1wb3J0e21keH1mcm9tJ0BtZHgtanMvcmVhY3QnO2V4cG9ydCBjb25zdCBmcm9udE1hdHRlcj17aWQ6J2luZGV4LXNob3BwaW5nY2FydCcsdGl0bGU6J0hvdyB0byBidWlsZCBhIFNob3BwaW5nIGNhcnQgYXBwIHVzaW5nIE5vZGVKUyBhbmQgUmVkaXMnLHNpZGViYXJfbGFiZWw6J0hvdyB0byBidWlsZCBhIFNob3BwaW5nIGNhcnQgYXBwIHVzaW5nIE5vZGVKUyBhbmQgUmVkaXMnLHNsdWc6Jy9ob3d0b3Mvc2hvcHBpbmdjYXJ0J307ZXhwb3J0IGNvbnN0IG1ldGFkYXRhPXsidW52ZXJzaW9uZWRJZCI6Imhvd3Rvcy9zaG9wcGluZ2NhcnQvaW5kZXgtc2hvcHBpbmdjYXJ0IiwiaWQiOiJob3d0b3Mvc2hvcHBpbmdjYXJ0L2luZGV4LXNob3BwaW5nY2FydCIsImlzRG9jc0hvbWVQYWdlIjpmYWxzZSwidGl0bGUiOiJIb3cgdG8gYnVpbGQgYSBTaG9wcGluZyBjYXJ0IGFwcCB1c2luZyBOb2RlSlMgYW5kIFJlZGlzIiwiZGVzY3JpcHRpb24iOiJJdOKAmXMgaGFyZCB0byBpbWFnaW5lIGFuIG9ubGluZSBzdG9yZSB3aXRob3V0IGEgc2hvcHBpbmcgY2FydC4gQWxtb3N0IGV2ZXJ5IG9ubGluZSBzdG9yZSBtdXN0IGhhdmUgdGhlIHNob3BwaW5nIGNhcnQgZnVuY3Rpb25hbGl0eSB0byBiZSBhYmxlIHRvIHNlbGwgcHJvZHVjdHMgdG8gY3VzdG9tZXJzLiBJbiBvcmRlciB0byBidWlsZCBhIHNjYWxhYmxlIGVjb21tZXJjZSBwbGF0Zm9ybSwgeW91IG5lZWQgYSBwb3dlcmZ1bCBmcmFtZXdvcmsgYW5kIGEgc2ltcGxlIHN0b3JhZ2Ugc3lzdGVtLiBBdCB0aW1lcywgYSBsb3Qgb2YgZGV2ZWxvcGVycyBmb2N1cyBvbiBpbXByb3ZpbmcgdGhlIGZyb250ZW5kIHBlcmZvcm1hbmNlIG9mIGFuIGVjb21tZXJjZSBwbGF0Zm9ybSB0byByZWN0aWZ5IHRoZXNlIHRoaW5ncy4gVGhlIHJlYWwgYm90dGxlbmVjaywgaG93ZXZlciwgcmVtYWlucyB0aGUgc2xvdyBiYWNrZW5kIGxvYWQgdGltZS4iLCJzb3VyY2UiOiJAc2l0ZS9kb2NzL2hvd3Rvcy9zaG9wcGluZ2NhcnQvaW5kZXgtc2hvcHBpbmdjYXJ0Lm1keCIsInNsdWciOiIvaG93dG9zL3Nob3BwaW5nY2FydCIsInBlcm1hbGluayI6Ii9ob3d0b3Mvc2hvcHBpbmdjYXJ0IiwiZWRpdFVybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9yZWRpcy1kZXZlbG9wZXIvcmVkaXMtZGV2ZWxvcGVyL2VkaXQvbWFzdGVyL2RvY3MvaG93dG9zL3Nob3BwaW5nY2FydC9pbmRleC1zaG9wcGluZ2NhcnQubWR4IiwidmVyc2lvbiI6ImN1cnJlbnQiLCJzaWRlYmFyX2xhYmVsIjoiSG93IHRvIGJ1aWxkIGEgU2hvcHBpbmcgY2FydCBhcHAgdXNpbmcgTm9kZUpTIGFuZCBSZWRpcyJ9Oy8qIEBqc3hSdW50aW1lIGNsYXNzaWMgKi8gLyogQGpzeCBtZHggKi9pbXBvcnQgVGFicyBmcm9tJ0B0aGVtZS9UYWJzJztpbXBvcnQgVGFiSXRlbSBmcm9tJ0B0aGVtZS9UYWJJdGVtJztpbXBvcnQgdXNlQmFzZVVybCBmcm9tJ0Bkb2N1c2F1cnVzL3VzZUJhc2VVcmwnO2ltcG9ydCBSZWRpc0NhcmQgZnJvbSdAc2l0ZS9zcmMvdGhlbWUvUmVkaXNDYXJkJztleHBvcnQgY29uc3QgdG9jPVt7dmFsdWU6J0NvbnRlbnQnLGlkOidjb250ZW50JyxjaGlsZHJlbjpbXX0se3ZhbHVlOidXaGF0IHdpbGwgeW91IGJ1aWxkPycsaWQ6J3doYXQtd2lsbC15b3UtYnVpbGQnLGNoaWxkcmVuOltdfSx7dmFsdWU6J1doYXQgZG8geW91IG5lZWQ/JyxpZDond2hhdC1kby15b3UtbmVlZCcsY2hpbGRyZW46W119LHt2YWx1ZTonR2V0dGluZyBTdGFydGVkJyxpZDonZ2V0dGluZy1zdGFydGVkJyxjaGlsZHJlbjpbXX0se3ZhbHVlOidTZXR0aW5nIHVwIHRoZSBiYWNrZW5kIHNlcnZlcicsaWQ6J3NldHRpbmctdXAtdGhlLWJhY2tlbmQtc2VydmVyJyxjaGlsZHJlbjpbXX0se3ZhbHVlOidTZXR0aW5nIHVwIHRoZSBmcm9udGVuZCB3ZWIgQ2xpZW50IHVzaW5nIFZ1ZS5qcycsaWQ6J3NldHRpbmctdXAtdGhlLWZyb250ZW5kLXdlYi1jbGllbnQtdXNpbmctdnVlanMnLGNoaWxkcmVuOltdfSx7dmFsdWU6J1J1bm5pbmcvVGVzdGluZyB0aGUgd2ViIGNsaWVudCcsaWQ6J3J1bm5pbmd0ZXN0aW5nLXRoZS13ZWItY2xpZW50JyxjaGlsZHJlbjpbXX0se3ZhbHVlOidDb25jbHVzaW9uJyxpZDonY29uY2x1c2lvbicsY2hpbGRyZW46W119LHt2YWx1ZTonUmVmZXJlbmNlJyxpZDoncmVmZXJlbmNlJyxjaGlsZHJlbjpbXX1dO2NvbnN0IGxheW91dFByb3BzPXt0b2N9O2NvbnN0IE1EWExheW91dD0id3JhcHBlciI7ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTURYQ29udGVudCh7Y29tcG9uZW50cywuLi5wcm9wc30pe3JldHVybiBtZHgoTURYTGF5b3V0LF9leHRlbmRzKHt9LGxheW91dFByb3BzLHByb3BzLHtjb21wb25lbnRzOmNvbXBvbmVudHMsbWR4VHlwZToiTURYTGF5b3V0In0pLG1keCgicCIsbnVsbCxgSXTigJlzIGhhcmQgdG8gaW1hZ2luZSBhbiBvbmxpbmUgc3RvcmUgd2l0aG91dCBhIHNob3BwaW5nIGNhcnQuIEFsbW9zdCBldmVyeSBvbmxpbmUgc3RvcmUgbXVzdCBoYXZlIHRoZSBzaG9wcGluZyBjYXJ0IGZ1bmN0aW9uYWxpdHkgdG8gYmUgYWJsZSB0byBzZWxsIHByb2R1Y3RzIHRvIGN1c3RvbWVycy4gSW4gb3JkZXIgdG8gYnVpbGQgYSBzY2FsYWJsZSBlY29tbWVyY2UgcGxhdGZvcm0sIHlvdSBuZWVkIGEgcG93ZXJmdWwgZnJhbWV3b3JrIGFuZCBhIHNpbXBsZSBzdG9yYWdlIHN5c3RlbS4gQXQgdGltZXMsIGEgbG90IG9mIGRldmVsb3BlcnMgZm9jdXMgb24gaW1wcm92aW5nIHRoZSBmcm9udGVuZCBwZXJmb3JtYW5jZSBvZiBhbiBlY29tbWVyY2UgcGxhdGZvcm0gdG8gcmVjdGlmeSB0aGVzZSB0aGluZ3MuIFRoZSByZWFsIGJvdHRsZW5lY2ssIGhvd2V2ZXIsIHJlbWFpbnMgdGhlIHNsb3cgYmFja2VuZCBsb2FkIHRpbWUuCkEgc2xvdyBiYWNrZW5kIGxvYWQgdGltZSBjYW4gaGF2ZSBhIHNlcmlvdXMgaW1wYWN0IG9uIHlvdXIgc2VhcmNoIGVuZ2luZSByYW5raW5ncy4gQSBnb29kIHJ1bGUgb2YgdGh1bWIgaXMgdGhhdCBiYWNrZW5kIGxvYWQgdGltZSBzaG91bGQgdGFrZSBubyBtb3JlIHRoYW4gMjAlIG9mIHlvdXIgdG90YWwgbG9hZCB0aW1lLiBBIGdvb2QgYmFja2VuZCBsb2FkIHRpbWUgdG8gYWltIGZvciBpcyAyMDBtcyBvciBsZXNzLgpJbiB0aGlzIHR1dG9yaWFsLCB5b3Ugd2lsbCBzZWUgaG93IHRvIGJ1aWxkIGEgc2hvcHBpbmcgY2FydCBhcHBsaWNhdGlvbiB1c2luZyBOb2RlLmpzLCBWdWUuanMsIEV4cHJlc3MgYW5kIFJlZGlzLmApLG1keCgiZGl2Iix7Y2xhc3M6InRleHQtLWNlbnRlciJ9LG1keCgiaWZyYW1lIix7d2lkdGg6Ijc2MCIsaGVpZ2h0OiI0MTUiLHNyYzoiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvRnZqbjVmdVV4T1UiLHRpdGxlOiJZb3VUdWJlIHZpZGVvIHBsYXllciIsZnJhbWVib3JkZXI6IjAiLGFsbG93OiJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlIixhbGxvd2Z1bGxzY3JlZW46dHJ1ZX0pKSxtZHgoImgzIix7ImlkIjoiY29udGVudCJ9LGBDb250ZW50YCksbWR4KCJ1bCIsbnVsbCxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgV2hhdCB3aWxsIHlvdSBidWlsZD9gKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgV2hhdCBkbyB5b3UgbmVlZD9gKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgR2V0dGluZyBzdGFydGVkYCksbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sYFNldHRpbmcgdXAgdGhlIGJhY2tlbmQgKE5vZGUuanMgRXhwcmVzcylgKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgU2V0dGluZyB1cCB0aGUgZnJvbnRlbmQgKFZ1ZS5qcylgKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgUnVubmluZyB0aGUgYXBwbGljYXRpb25gKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgQ29uY2x1c2lvbmApKSxtZHgoImgzIix7ImlkIjoid2hhdC13aWxsLXlvdS1idWlsZCJ9LGBXaGF0IHdpbGwgeW91IGJ1aWxkP2ApLG1keCgicCIsbnVsbCxgVGhpcyB0dXRvcmlhbCB3aWxsIHNob3cgeW91IGhvdyB0byBoYXJuZXNzIHRoZSBwb3dlciBvZiBSZWRpcyBieSBjcmVhdGluZyBhIGJhc2ljIGVjb21tZXJjZSBzaG9wcGluZyBjYXJ0IGFwcGxpY2F0aW9uIHdpdGggTm9kZS5qcy4gVXN1YWxseSwgdGhlIHNob3BwaW5nIGNhcnQgZGF0YSBpcyBzdG9yZWQgb24gdGhlIGNsaWVudC1zaWRlIGFzIGEgY29va2llLiBDb29raWVzIGFyZSBzbWFsbCB0ZXh0IGZpbGVzIHN0b3JlZCBpbiBhIHdlYiB1c2VyJ3MgYnJvd3NlciBkaXJlY3Rvcnkgb3IgZGF0YSBmb2xkZXIuIFRoZSBhZHZhbnRhZ2Ugb2YgZG9pbmcgdGhpcyBpcyB0aGF0IHlvdSB3b3VsZG4ndCBuZWVkIHRvIHN0b3JlIHN1Y2ggdGVtcG9yYXJ5IGRhdGEgaW4geW91ciBkYXRhYmFzZS4gSG93ZXZlciwgdGhpcyB3aWxsIHJlcXVpcmUgeW91IHRvIHNlbmQgdGhlIGNvb2tpZXMgd2l0aCBldmVyeSB3ZWIgcmVxdWVzdCwgd2hpY2ggY2FuIHNsb3cgZG93biB0aGUgcmVxdWVzdCBpbiBjYXNlIG9mIGxhcmdlIGNvb2tpZXMuIFN0b3Jpbmcgc2hvcHBpbmcgY2FydCBkYXRhIGluIFJlZGlzIGlzIGEgZ29vZCBpZGVhIHNpbmNlIHlvdSBjYW4gcmV0cmlldmUgdGhlIGl0ZW1zIHZlcnkgZmFzdCBhdCBhbnkgdGltZSBhbmQgcGVyc2lzdCB0aGlzIGRhdGEgaWYgbmVlZGVkLmApLG1keCgicCIsbnVsbCxtZHgoImltZyIse2FsdDoiU2hvcHBpbmcgQ2FydCIsc3JjOnJlcXVpcmUoIiF1cmwtbG9hZGVyP2xpbWl0PTEwMDAwJm5hbWU9YXNzZXRzL2ltYWdlcy9bbmFtZV0tW2hhc2hdLltleHRdJmZhbGxiYWNrPWZpbGUtbG9hZGVyIS4vc2hvcHBpbmcyLnBuZyIpLmRlZmF1bHR9KSksbWR4KCJoMyIseyJpZCI6IndoYXQtZG8teW91LW5lZWQifSxgV2hhdCBkbyB5b3UgbmVlZD9gKSxtZHgoInVsIixudWxsLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LGBSZWRpcyBjb21waWxlZCB3aXRoIFJlZGlzSlNPTiBtb2R1bGVgKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgRXhwcmVzcyA0IGJhY2tlbmRgKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgTm9kZSAxNS41LjAgKGF0IGxlYXN0IHYxMi45LjArKWApLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LGBOUE0gNy4zLjAgKGF0IGxlYXN0IHY2LjE0LjgrKWApLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LGBEb2NrZXIgMTkuMDMuWCAoT3B0aW9uYWwpYCksbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sYERvY2tlciBDb21wb3NlIChPcHRpb25hbClgKSksbWR4KCJwIixudWxsLGBCdWlsZGluZyBhbiBlY29tbWVyY2UgYXBwIHdpdGggTm9kZS5qcyBtYWtlcyBhIGxvdCBtb3JlIHNlbnNlIGJlY2F1c2UgaXQgZW5zdXJlcyB0aGUgYmFsYW5jZSBiZXR3ZWVuIGZyb250ZW5kIGFuZCBiYWNrZW5kIGxvYWQgdGltZSBkdWUgdG8gaXRzIGFzeW5jaHJvbm91cyBuYXR1cmUgKHRoZSBhYmlsaXR5IHRvIGhhbmRsZSBtdWx0aXBsZSBjb25jdXJyZW50IHVzZXJzIGF0IGEgdGltZSkuIE5vZGUuanMgaGVscHMgZGV2ZWxvcGVycyBtYWtlIHRoZSBiZXN0IHVzZSBvZiBldmVudCBsb29wcyBhbmQgY2FsbGJhY2tzIGZvciBJL08gb3BlcmF0aW9ucy4gTm9kZS5qcyBydW5zIHNpbmdsZS10aHJlYWRlZCwgbm9uLWJsb2NraW5nLCBhc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcsIHdoaWNoIGlzIHZlcnkgbWVtb3J5IGVmZmljaWVudC5gKSxtZHgoInAiLG51bGwsYEluIG9yZGVyIHRvIGNyZWF0ZSBhIHNob3BwaW5nIGNhcnQgd2UgbmVlZCBhIHNpbXBsZSBzdG9yYWdlIHN5c3RlbSB3aGVyZSB3ZSBjYW4gY29sbGVjdCBwcm9kdWN0cyBhbmQgdGhlIGNhcnQncyB0b3RhbC4gTm9kZS5qcyBwcm92aWRlcyB1cyB3aXRoIHRoZSBleHByZXNzLXNlc3Npb24gcGFja2FnZSwgbWlkZGxld2FyZSBmb3IgRXhwcmVzc0pTLiBXZSB3aWxsIGJlIHVzaW5nIGV4cHJlc3Mtc2Vzc2lvbiBtaWRkbGV3YXJlIHRvIG1hbmFnZSBzZXNzaW9ucyBpbiBOb2RlLmpzIFRoZSBzZXNzaW9uIGlzIHN0b3JlZCBpbiB0aGUgZXhwcmVzcyBzZXJ2ZXIgaXRzZWxmLmApLG1keCgicCIsbnVsbCxgVGhlIGRlZmF1bHQgc2VydmVyLXNpZGUgc2Vzc2lvbiBzdG9yYWdlLCBNZW1vcnlTdG9yZSwgaXMgcHVycG9zZWx5IG5vdCBkZXNpZ25lZCBmb3IgYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LiBJdCB3aWxsIGxlYWsgbWVtb3J5IHVuZGVyIG1vc3QgY29uZGl0aW9ucywgZG9lcyBub3Qgc2NhbGUgcGFzdCBhIHNpbmdsZSBwcm9jZXNzLCBhbmQgaXMgbWVhbnQgZm9yIGRlYnVnZ2luZyBhbmQgZGV2ZWxvcGluZy4gVG8gbWFuYWdlIG11bHRpcGxlIHNlc3Npb25zIGZvciBtdWx0aXBsZSB1c2Vycywgd2UgaGF2ZSB0byBjcmVhdGUgYSBnbG9iYWwgbWFwIGFuZCBwdXQgZWFjaCBzZXNzaW9uIG9iamVjdCB0byBpdC4gR2xvYmFsIHZhcmlhYmxlcyBpbiBOb2RlSnMgYXJlIG1lbW9yeSBjb25zdW1pbmcgYW5kIGNhbiBwcm92ZSB0byBiZSB0ZXJyaWJsZSBzZWN1cml0eSBob2xlcyBpbiBwcm9kdWN0aW9uLWxldmVsIHByb2plY3RzLlRoaXMgY2FuIGJlIHNvbHZlZCBieSB1c2luZyBhbiBleHRlcm5hbCBzZXNzaW9uIHN0b3JlLiBXZSBoYXZlIHRvIHN0b3JlIGV2ZXJ5IHNlc3Npb24gaW4gdGhlIHN0b3JlIHNvIHRoYXQgZWFjaCBvbmUgd2lsbCBiZWxvbmcgdG8gb25seSBhIHNpbmdsZSB1c2VyLiBPbmUgcG9wdWxhciBzZXNzaW9uIHN0b3JlIGlzIGJ1aWx0IHVzaW5nIFJlZGlzLmApLG1keCgicCIsbnVsbCxgV2Ugd2lsbCBzdGFydCBieSBzZXR0aW5nIHVwIHRoZSBiYWNrZW5kIGZvciBvdXIgYXBwbGljYXRpb24uIExldOKAmXMgY3JlYXRlIGEgbmV3IGRpcmVjdG9yeSBmb3Igb3VyIGFwcGxpY2F0aW9uIGFuZCBpbml0aWFsaXplIGEgbmV3IE5vZGUuanMgYXBwbGljYXRpb24uIE9wZW4gdXAgeW91ciB0ZXJtaW5hbCBhbmQgdHlwZSB0aGUgZm9sbG93aW5nOmApLG1keCgiaDMiLHsiaWQiOiJnZXR0aW5nLXN0YXJ0ZWQifSxgR2V0dGluZyBTdGFydGVkYCksbWR4KCJwIixudWxsLGBDbG9uZSB0aGUgcmVwb3NpdG9yeTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYCQgZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWRpcy1kZXZlbG9wZXIvYmFzaWMtcmVkaXMtc2hvcHBpbmctY2hhcnQtbm9kZWpzCmApKSxtZHgoImg0Iix7ImlkIjoiY29tcGlsaW5nLXJlZGlzLXdpdGgtcmVkaXNqc29uLW1vZHVsZSJ9LGBDb21waWxpbmcgUmVkaXMgd2l0aCBSZWRpc0pTT04gbW9kdWxlYCksbWR4KCJwIixudWxsLGBZb3UgY2FuIHVzZSB0aGUgYmVsb3cgZG9ja2VyIGNvbXBvc2UgZmlsZSB0byBydW4gUmVkaXMgc2VydmVyIGNvbXBpbGVkIHdpdGggUmVkaXNKU09OIG1vZHVsZTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYHZlcnNpb246ICczJwoKc2VydmljZXM6CiAgICByZWRpczoKICAgICAgICBpbWFnZTogcmVkaXNsYWJzL3JlanNvbjpsYXRlc3QKICAgICAgICBjb250YWluZXJfbmFtZTogcmVkaXMucmVkaXNzaG9wcGluZ2NhcnQuZG9ja2VyCiAgICAgICAgcmVzdGFydDogdW5sZXNzLXN0b3BwZWQKICAgICAgICBlbnZpcm9ubWVudDoKICAgICAgICAgICAgUkVESVNfUEFTU1dPUkQ6IFwke1JFRElTX1BBU1NXT1JEfQogICAgICAgIGNvbW1hbmQ6IHJlZGlzLXNlcnZlciAtLWxvYWRtb2R1bGUgIi91c3IvbGliL3JlZGlzL21vZHVsZXMvcmVqc29uLnNvIiAtLXJlcXVpcmVwYXNzICIkUkVESVNfUEFTU1dPUkQiCiAgICAgICAgcG9ydHM6CiAgICAgICAgICAgIC0gMTI3LjAuMC4xOlwke1JFRElTX1BPUlR9OjYzNzkKICAgICAgICBuZXR3b3JrczoKICAgICAgICAgICAgLSBnbG9iYWwKbmV0d29ya3M6CiAgICBnbG9iYWw6CiAgICAgICAgZXh0ZXJuYWw6IHRydWUKYCkpLG1keCgicCIsbnVsbCxgSSBhc3N1bWUgdGhhdCB5b3UgaGF2ZSBEb2NrZXIgYW5kIERvY2tlciBDb21wb3NlIHVwIGFuZCBpbnN0YWxsZWQgb24geW91ciBsb2NhbCBlbnZpcm9ubWVudC4gRXhlY3V0ZSB0aGUgYmVsb3cgY29tcG9zZSBDTEkgdG8gYnJpbmcgdXAgUmVkaXMgc2VydmVyOmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgJCBkb2NrZXIgbmV0d29yayBjcmVhdGUgZ2xvYmFsIAokIGRvY2tlci1jb21wb3NlIHVwIC1kIC0tYnVpbGQKYCkpLG1keCgicCIsbnVsbCxgVGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBkb2NrZXItY29tcG9zZSBwc2ApLGAgc2hvd3MgdGhlIGxpc3Qgb2YgcnVubmluZyBSZWRpcyBzZXJ2aWNlczpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYCQgZG9ja2VyLWNvbXBvc2UgcHMKTmFtZSAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbW1hbmQgICAgICAgICAgICAgICBTdGF0ZSAgICAgICAgICBQb3J0cyAgICAgICAgICAKCnJlZGlzLnJlZGlzc2hvcHBpbmdjYXJ0LmRvY2tlciAgIGRvY2tlci1lbnRyeXBvaW50LnNoIHJlZGlzIC4uLiAgIFVwICAgICAgMTI3LjAuMC4xOjU1MDAwLT42Mzc5L3RjcApgKSksbWR4KCJoMyIseyJpZCI6InNldHRpbmctdXAtdGhlLWJhY2tlbmQtc2VydmVyIn0sYFNldHRpbmcgdXAgdGhlIGJhY2tlbmQgc2VydmVyYCksbWR4KCJwIixudWxsLG1keCgiaW1nIix7YWx0OiJTaG9wcGluZyIsc3JjOnJlcXVpcmUoIiF1cmwtbG9hZGVyP2xpbWl0PTEwMDAwJm5hbWU9YXNzZXRzL2ltYWdlcy9bbmFtZV0tW2hhc2hdLltleHRdJmZhbGxiYWNrPWZpbGUtbG9hZGVyIS4vc2hvcHBpbmdjYXJ0My5wbmciKS5kZWZhdWx0fSkpLG1keCgicCIsbnVsbCxgTm9kZS5qcyBpcyBhIHJ1bnRpbWUgZW52aXJvbm1lbnQgdGhhdCBhbGxvd3Mgc29mdHdhcmUgZGV2ZWxvcGVycyB0byBsYXVuY2ggYm90aCB0aGUgZnJvbnRlbmQgYW5kIGJhY2tlbmQgb2Ygd2ViIGFwcHMgdXNpbmcgSmF2YVNjcmlwdC4gVG8gc2F2ZSB5b3VyIHRpbWUsIHRoZSBkaXJlY3RvcnkgL3NlcnZlci9zcmMgaGFzIGFscmVhZHkgYmVlbiBjcmVhdGVkIGZvciB5b3UuVGhpcyBpcyB3aGVyZSB3ZSB3aWxsIGJlIGNyZWF0aW5nIG91ciBtb2R1bGVzIGJ5IGFkZGluZyB0aGUgZm9sbG93aW5nIHN1Yi1kaXJlY3RvcmllcyAtYCksbWR4KCJ1bCIsbnVsbCxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgcm91dGVzYCksbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sYGNvbnRyb2xsZXJgKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgbWlkZGxld2FyZWApLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LGBzZXJ2aWNlc2ApKSxtZHgoInAiLG51bGwsYFJvdXRlcyBmb3J3YXJkIHRoZSBzdXBwb3J0ZWQgcmVxdWVzdHMgKGFuZCBhbnkgaW5mb3JtYXRpb24gZW5jb2RlZCBpbiByZXF1ZXN0IFVSTHMpIHRvIHRoZSBhcHByb3ByaWF0ZSBjb250cm9sbGVyIGZ1bmN0aW9ucywgd2hlcmVhcyBjb250cm9sbGVyIGZ1bmN0aW9ucyBnZXQgdGhlIHJlcXVlc3RlZCBkYXRhIGZyb20gdGhlIG1vZGVscywgY3JlYXRlIGFuIEhUTUwgcGFnZSBkaXNwbGF5aW5nIHRoZSBkYXRhLCBhbmQgcmV0dXJuIGl0IHRvIHRoZSB1c2VyIHRvIHZpZXcgaW4gdGhlIGJyb3dzZXIuIFNlcnZpY2VzIGhvbGQgeW91ciBhY3R1YWwgYnVzaW5lc3MgbG9naWMuIE1pZGRsZXdhcmUgZnVuY3Rpb25zIGFyZSBmdW5jdGlvbnMgdGhhdCBoYXZlIGFjY2VzcyB0byB0aGUgcmVxdWVzdCBvYmplY3QgKHJlcSksIHRoZSByZXNwb25zZSBvYmplY3QgKHJlcyksIGFuZCB0aGUgbmV4dCBtaWRkbGV3YXJlIGZ1bmN0aW9uIGluIHRoZSBhcHBsaWNhdGlvbuKAmXMgcmVxdWVzdC1yZXNwb25zZSBjeWNsZS5gKSxtZHgoImg0Iix7ImlkIjoicHJvamVjdC1kaXJlY3Rvcnktc3RydWN0dXJlIn0sYFByb2plY3QgZGlyZWN0b3J5IHN0cnVjdHVyZWApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgJSB0cmVlCi4K4pSc4pSA4pSAIGNvbnRyb2xsZXJzCuKUgiAgIOKUnOKUgOKUgCBDYXJ0CuKUgiAgIOKUgiAgIOKUnOKUgOKUgCBEZWxldGVJdGVtQ29udHJvbGxlci5qcwrilIIgICDilIIgICDilJzilIDilIAgRW1wdHlDb250cm9sbGVyLmpzCuKUgiAgIOKUgiAgIOKUnOKUgOKUgCBJbmRleENvbnRyb2xsZXIuanMK4pSCICAg4pSCICAg4pSU4pSA4pSAIFVwZGF0ZUNvbnRyb2xsZXIuanMK4pSCICAg4pSU4pSA4pSAIFByb2R1Y3QK4pSCICAgICAgIOKUnOKUgOKUgCBJbmRleENvbnRyb2xsZXIuanMK4pSCICAgICAgIOKUlOKUgOKUgCBSZXNldENvbnRyb2xsZXIuanMK4pSc4pSA4pSAIGluZGV4LmpzCuKUnOKUgOKUgCBtaWRkbGV3YXJlCuKUgiAgIOKUlOKUgOKUgCBjaGVja1Nlc3Npb24uanMK4pSc4pSA4pSAIHByb2R1Y3RzLmpzb24K4pSc4pSA4pSAIHJvdXRlcwrilIIgICDilJzilIDilIAgY2FydC5qcwrilIIgICDilJzilIDilIAgaW5kZXguanMK4pSCICAg4pSU4pSA4pSAIHByb2R1Y3RzLmpzCuKUlOKUgOKUgCBzZXJ2aWNlcwogICAg4pSU4pSA4pSAIFJlZGlzQ2xpZW50LmpzCgo2IGRpcmVjdG9yaWVzLCAxMyBmaWxlcwpgKSksbWR4KCJwIixudWxsLGBMZXQgdXMgZmlyc3QgaW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24gc2VydmVyIHRocm91Z2ggdGhlIGluZGV4LmpzIHNob3duIGJlbG93OmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgLy8gc2VydmVyL3NyYy9pbmRleC5qcwoKCmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7CmNvbnN0IHJlZGlzID0gcmVxdWlyZSgncmVkaXMnKTsKY29uc3QgcmVqc29uID0gcmVxdWlyZSgncmVkaXMtcmVqc29uJyk7CmNvbnN0IHNlc3Npb24gPSByZXF1aXJlKCdleHByZXNzLXNlc3Npb24nKTsKY29uc3QgUmVkaXNTdG9yZSA9IHJlcXVpcmUoJ2Nvbm5lY3QtcmVkaXMnKShzZXNzaW9uKTsKY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsKY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7CmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7CmNvbnN0IFJlZGlzQ2xpZW50ID0gcmVxdWlyZSgnLi9zZXJ2aWNlcy9SZWRpc0NsaWVudCcpOwoKcmVqc29uKHJlZGlzKTsKCnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpOwoKY29uc3QgeyBSRURJU19FTkRQT0lOVF9VUkksIFJFRElTX0hPU1QsIFJFRElTX1BPUlQsIFJFRElTX1BBU1NXT1JELCBQT1JUIH0gPSBwcm9jZXNzLmVudjsKCmNvbnN0IGFwcCA9IGV4cHJlc3MoKTsKCmFwcC51c2UoCiAgICBjb3JzKHsKICAgICAgICBvcmlnaW4ob3JpZ2luLCBjYWxsYmFjaykgewogICAgICAgICAgICBjYWxsYmFjayhudWxsLCB0cnVlKTsKICAgICAgICB9LAogICAgICAgIGNyZWRlbnRpYWxzOiB0cnVlCiAgICB9KQopOwoKY29uc3QgcmVkaXNFbmRwb2ludFVyaSA9IFJFRElTX0VORFBPSU5UX1VSSQogICAgPyBSRURJU19FTkRQT0lOVF9VUkkucmVwbGFjZSgvXihyZWRpc1xcOlxcL1xcLykvLCAnJykKICAgIDogXGBcJHtSRURJU19IT1NUfTpcJHtSRURJU19QT1JUfVxgOwoKY29uc3QgcmVkaXNDbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQoXGByZWRpczovL1wke3JlZGlzRW5kcG9pbnRVcml9XGAsIHsKICAgIHBhc3N3b3JkOiBSRURJU19QQVNTV09SRAp9KTsKCmNvbnN0IHJlZGlzQ2xpZW50U2VydmljZSA9IG5ldyBSZWRpc0NsaWVudChyZWRpc0NsaWVudCk7CgphcHAuc2V0KCdyZWRpc0NsaWVudFNlcnZpY2UnLCByZWRpc0NsaWVudFNlcnZpY2UpOwoKYXBwLnVzZSgKICAgIHNlc3Npb24oewogICAgICAgIHN0b3JlOiBuZXcgUmVkaXNTdG9yZSh7IGNsaWVudDogcmVkaXNDbGllbnQgfSksCiAgICAgICAgc2VjcmV0OiAnc29tZVNlY3JldCcsCiAgICAgICAgcmVzYXZlOiBmYWxzZSwKICAgICAgICBzYXZlVW5pbml0aWFsaXplZDogZmFsc2UsCiAgICAgICAgcm9sbGluZzogdHJ1ZSwKICAgICAgICBjb29raWU6IHsKICAgICAgICAgICAgbWF4QWdlOiAzNjAwICogMTAwMCAqIDMKICAgICAgICB9CiAgICB9KQopOwoKYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7CgphcHAudXNlKCcvJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uLy4uL2NsaWVudC1kaXN0JykpKTsKCmNvbnN0IHJvdXRlciA9IHJlcXVpcmUoJy4vcm91dGVzJykoYXBwKTsKCmFwcC51c2UoJy9hcGknLCByb3V0ZXIpOwoKY29uc3QgcG9ydCA9IFBPUlQgfHwgMzAwMDsKCmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gewogICAgY29uc29sZS5sb2coXGBBcHAgbGlzdGVuaW5nIG9uIHBvcnQgXCR7cG9ydH1cYCk7Cn0pOwpgKSksbWR4KCJwIixudWxsLGBZb3UnbGwgc2VlIHRoYXQgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoaXMgaW5kZXguanMgaXMgdG8gc2ltcGx5IHNldCB1cCB0aGUgc2VydmVyLiBJdCBpbml0aWFsaXplcyBhbGwgdGhlIG1pZGRsZXdhcmUsIHNldHMgdXAgdGhlIHZpZXcgZW5naW5lLCBldGMuIFRoZSBsYXN0IHRoaW5nIHRvIGRvIGlzIHNldCB1cCByb3V0ZXMgYnkgZGVmZXJyaW5nIHRoYXQgcmVzcG9uc2liaWxpdHkgdG8gdGhlIGluZGV4LmpzIHdpdGhpbiB0aGUgcm91dGVzIGZvbGRlci5gKSxtZHgoInAiLG51bGwsYEFzIHNob3duIGFib3ZlLCBhcHAudXNlLCBhcHAuc2V0LCBhbmQgYXBwLmxpc3RlbiBhcmUgZW5kcG9pbnRzLCBmb3IgdGhlIHB1cnBvc2VzIG9mIHRoaXMgZGVtbywgd2Ugd2lsbCBuZWVkIHRvIGJlIGFibGUgdG8gYWRkIGFuZCBnZXQgaXRlbXMgZnJvbSB0aGUgYmFza2V0ICggS2VlcGluZyBpdCBzaW1wbGUgKS4KV2UgbmVlZCB0byBkZWZpbmUgb3VyIGJhc2ljIHJvdXRlcyB0byBnZXQgYWxsIHByb2R1Y3RzLCBnZXQgc2luZ2xlIHByb2R1Y3QgZGV0YWlscywgcmVtb3ZlIHByb2R1Y3RzLCBhbmQgY3JlYXRlIHByb2R1Y3RzLiBgKSxtZHgoImg0Iix7ImlkIjoicm91dGVzIn0sYFJvdXRlc2ApLG1keCgicCIsbnVsbCxgVGhlIHJvdXRlcyBkaXJlY3RvcnkgaXMgb25seSByZXNwb25zaWJsZSBmb3IgZGVmaW5pbmcgb3VyIHJvdXRlcy4gV2l0aGluIGluZGV4LmpzIGluIHRoaXMgZm9sZGVyLCB5b3UnbGwgc2VlIHRoYXQgaXRzIHJlc3BvbnNpYmlsaXR5IGlzIHRvIHNldCB1cCBvdXIgdG9wIGxldmVsIHJvdXRlcyBhbmQgZGVsZWdhdGUgdGhlaXIgcmVzcG9uc2liaWxpdGllcyB0byBlYWNoIG9mIHRoZWlyIHJlc3BlY3RpdmUgcm91dGUgZmlsZXMuIEVhY2ggcmVzcGVjdGl2ZSByb3V0ZSBmaWxlIHdpbGwgZnVydGhlciBkZWZpbmUgYW55IGFkZGl0aW9uYWwgc3Vicm91dGVzIGFuZCBjb250cm9sbGVyIGFjdGlvbnMgZm9yIGVhY2ggb25lLmApLG1keCgicCIsbnVsbCxgVGhlIHdlYiBzZXJ2ZXIgc2tlbGV0b24gYWxyZWFkeSBoYXMgYSAuL3JvdXRlcyBmb2xkZXIgY29udGFpbmluZyByb3V0ZXMgZm9yIHRoZSBpbmRleCwgcHJvZHVjdHMgYW5kIGNhcnQuIChhcyBzaG93biB1bmRlciBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiJodHRwczovL2dpdGh1Yi5jb20vcmVkaXMtZGV2ZWxvcGVyL2Jhc2ljLXJlZGlzLXNob3BwaW5nLWNoYXJ0LW5vZGVqcy90cmVlL21haW4vc2VydmVyL3NyYy9yb3V0ZXMifSksYGh0dHBzOi8vZ2l0aHViLmNvbS9yZWRpcy1kZXZlbG9wZXIvYmFzaWMtcmVkaXMtc2hvcHBpbmctY2hhcnQtbm9kZWpzL3RyZWUvbWFpbi9zZXJ2ZXIvc3JjL3JvdXRlc2ApLGApICAgYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGAvLyByb3V0ZXMvaW5kZXguanMKCmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTsKY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTsKCm1vZHVsZS5leHBvcnRzID0gYXBwID0+IHsKICAgIGZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSkuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICByb3V0ZSA9IHJvdXRlLnNwbGl0KCcuJylbMF07CgogICAgICAgIGlmIChyb3V0ZSA9PT0gJ2luZGV4JykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICByb3V0ZXIudXNlKFxgL1wke3JvdXRlfVxgLCByZXF1aXJlKFxgLi9cJHtyb3V0ZX1cYCkoYXBwKSk7CiAgICB9KTsKCiAgICByZXR1cm4gcm91dGVyOwp9OwpgKSksbWR4KCJwIixudWxsLGBBIHJvdXRlIGlzIGEgc2VjdGlvbiBvZiBFeHByZXNzIGNvZGUgdGhhdCBhc3NvY2lhdGVzIGFuIEhUVFAgdmVyYiAoR0VULCBQT1NULCBQVVQsIERFTEVURSwgZXRjLiksIGEgVVJMIHBhdGgvcGF0dGVybiwgYW5kIGEgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgdG8gaGFuZGxlIHRoYXQgcGF0dGVybi4KVGhlcmUgYXJlIHNldmVyYWwgd2F5cyB0byBjcmVhdGUgcm91dGVzLiBGb3IgdGhpcyBkZW1vIGFwcCB3ZSdyZSBnb2luZyB0byB1c2UgdGhlIGV4cHJlc3MuUm91dGVyIG1pZGRsZXdhcmUgYXMgaXQgYWxsb3dzIHVzIHRvIGdyb3VwIHRoZSByb3V0ZSBoYW5kbGVycyBmb3IgYSBwYXJ0aWN1bGFyIHBhcnQgb2YgYSBzaXRlIHRvZ2V0aGVyIGFuZCBhY2Nlc3MgdGhlbSB1c2luZyBhIGNvbW1vbiByb3V0ZS1wcmVmaXguClRoZSBtb2R1bGUgcmVxdWlyZXMgRXhwcmVzcyBhbmQgdGhlbiB1c2VzIGl0IHRvIGNyZWF0ZSBhIFJvdXRlciBvYmplY3QuIFRoZSByb3V0ZXMgYXJlIGFsbCBzZXQgdXAgb24gdGhlIHJvdXRlciwgd2hpY2ggaXMgdGhlbiBleHBvcnRlZC5UaGUgcm91dGVzIGFyZSBkZWZpbmVkIGVpdGhlciB1c2luZyAuZ2V0KCkgb3IgLnBvc3QoKSBtZXRob2RzIG9uIHRoZSByb3V0ZXIgb2JqZWN0LiBBbGwgdGhlIHBhdGhzIGFyZSBkZWZpbmVkIHVzaW5nIHN0cmluZ3MgKHdlIGRvbid0IHVzZSBzdHJpbmcgcGF0dGVybnMgb3IgcmVndWxhciBleHByZXNzaW9ucykuIFJvdXRlcyB0aGF0IGFjdCBvbiBzb21lIHNwZWNpZmljIHJlc291cmNlIChlLmcuIGJvb2spIHVzZSBwYXRoIHBhcmFtZXRlcnMgdG8gZ2V0IHRoZSBvYmplY3QgaWQgZnJvbSB0aGUgVVJMLgpUaGUgaGFuZGxlciBmdW5jdGlvbnMgYXJlIGFsbCBpbXBvcnRlZCBmcm9tIHRoZSBjb250cm9sbGVyIG1vZHVsZXMgd2UgY3JlYXRlZCBpbiB0aGUgcHJldmlvdXMgc2VjdGlvbi5gKSxtZHgoImg0Iix7ImlkIjoiY29udHJvbGxlcnMifSxgQ29udHJvbGxlcnNgKSxtZHgoInAiLG51bGwsYENvbnRyb2xsZXJzIGFyZSByZXNwb25zaWJsZSBmb3IgaW52b2tpbmcgdGhlIGFwcHJvcHJpYXRlIGFjdGlvbi4gSWYgYSBjb250cm9sbGVyJ3MgcmVzcG9uc2liaWxpdHkgaXMgdG8gcmVuZGVyIGEgdmlldywgaXQgd2lsbCByZW5kZXIgdGhlIGFwcHJvcHJpYXRlIHZpZXcgZnJvbSB0aGUgYXBwL3ZpZXdzIGRpcmVjdG9yeS5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYC8vIGNvbnRyb2xsZXIvUHJvZHVjdC9JbmRleENvbnRyb2xsZXIuanMKCgpjb25zdCB7IHByb2R1Y3RzIH0gPSByZXF1aXJlKCcuLi8uLi9wcm9kdWN0cy5qc29uJyk7CgpjbGFzcyBQcm9kdWN0SW5kZXhDb250cm9sbGVyIHsKICAgIGNvbnN0cnVjdG9yKHJlZGlzQ2xpZW50U2VydmljZSkgewogICAgICAgIHRoaXMucmVkaXNDbGllbnRTZXJ2aWNlID0gcmVkaXNDbGllbnRTZXJ2aWNlOwogICAgfQoKICAgIGFzeW5jIGluZGV4KHJlcSwgcmVzKSB7CiAgICAgICAgY29uc3QgcHJvZHVjdEtleXMgPSBhd2FpdCB0aGlzLnJlZGlzQ2xpZW50U2VydmljZS5zY2FuKCdwcm9kdWN0OionKTsKICAgICAgICBjb25zdCBwcm9kdWN0TGlzdCA9IFtdOwoKICAgICAgICBpZiAocHJvZHVjdEtleXMubGVuZ3RoKSB7CiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHByb2R1Y3RLZXlzKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgdGhpcy5yZWRpc0NsaWVudFNlcnZpY2UuanNvbkdldChrZXkpOwoKICAgICAgICAgICAgICAgIHByb2R1Y3RMaXN0LnB1c2goSlNPTi5wYXJzZShwcm9kdWN0KSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZXMuc2VuZChwcm9kdWN0TGlzdCk7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgcHJvZHVjdHMpIHsKICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gcHJvZHVjdDsKCiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVkaXNDbGllbnRTZXJ2aWNlLmpzb25TZXQoXGBwcm9kdWN0Olwke2lkfVxgLCAnLicsIEpTT04uc3RyaW5naWZ5KHByb2R1Y3QpKTsKCiAgICAgICAgICAgIHByb2R1Y3RMaXN0LnB1c2gocHJvZHVjdCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzLnNlbmQocHJvZHVjdExpc3QpOwogICAgfQp9Cgptb2R1bGUuZXhwb3J0cyA9IFByb2R1Y3RJbmRleENvbnRyb2xsZXI7CmApKSxtZHgoImg0Iix7ImlkIjoic2VydmljZXMifSxgU2VydmljZXNgKSxtZHgoInAiLG51bGwsYFNlcnZpY2VzIGhvbGQgeW91ciBhY3R1YWwgYnVzaW5lc3MgbG9naWMuVGhlIHNlcnZpY2UgbGF5ZXIgY2FycmllcyBvdXQgdGhlIGFwcGxpY2F0aW9uIGxvZ2ljIGFuZCBkZWxlZ2F0ZXMgQ1JVRCBvcGVyYXRpb25zIHRvIGEgZGF0YWJhc2UvcGVyc2lzdGVudCBzdG9yYWdlIChSZWRpcyBpbiBvdXIgY2FzZSkuIExldCB1cyBsb29rIGF0IGVhY2ggY29uZGl0aW9uIGFuZCB0cnkgdG8gdW5kZXJzdGFuZCBob3cgdGhlIGRhdGEgaXMgc3RvcmVkLCBtb2RpZmllZCwgYW5kIGFjY2Vzc2VkOmApLG1keCgiaDQiLHsiaWQiOiJob3ctdGhlLWRhdGEtaXMtc3RvcmVkIn0sYEhvdyB0aGUgZGF0YSBpcyBzdG9yZWQ6YCksbWR4KCJwIixudWxsLGBUaGUgcHJvZHVjdCBkYXRhIGlzIHN0b3JlZCBpbiBhbiBleHRlcm5hbCBKU09OIGZpbGUuIEFmdGVyIHRoZSBmaXJzdCByZXF1ZXN0LCB0aGlzIGRhdGEgaXMgc2F2ZWQgaW4gYSBKU09OIGRhdGEgdHlwZSBpbiBSZWRpcyBsaWtlOiBgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEpTT04uU0VUIHByb2R1Y3Q6e3Byb2R1Y3RJZH0gLiAneyAiaWQiOiAicHJvZHVjdElkIiwgIm5hbWUiOiAiUHJvZHVjdCBOYW1lIiwgInByaWNlIjogIjM3NS4wMCIsICJzdG9jayI6IDEwIH0nLgpgKSksbWR4KCJoNCIseyJpZCI6ImV4YW1wbGUifSxgRXhhbXBsZTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEpTT04uU0VUIHByb2R1Y3Q6ZTE4MjExNWEtNjNkMi00MmNlLThmZTAtNWY2OTZlY2RmYmE2IC4gJ3sgImlkIjogImUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiIsICJuYW1lIjogIkJyaWxsaWFudCBXYXRjaCIsICJwcmljZSI6ICIyNTAuMDAiLCAic3RvY2siOiAyIH0nCmApKSxtZHgoInAiLG51bGwsYFRoZSBjYXJ0IGRhdGEgaXMgc3RvcmVkIGluIGEgaGFzaCBsaWtlOiBgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEhTRVQgY2FydDp7Y2FydElkfSBwcm9kdWN0Ontwcm9kdWN0SWR9IHtwcm9kdWN0UXVhbnRpdHl9LCAKYCkpLG1keCgicCIsbnVsbCxgd2hlcmUgY2FydElkIGlzIGEgcmFuZG9tIGdlbmVyYXRlZCB2YWx1ZSBhbmQgc3RvcmVkIGluIHRoZSB1c2VyIHNlc3Npb24uIFBsZWFzZSBub3RlIHRoYXQgUmVkaXPigJlzIGhhc2ggbWFuYWdlbWVudCBjb21tYW5kIEhTRVQgc3RvcmVzIDIga2V5cy1jYXJ0IGFuZCBwcm9kdWN0LWFzIHNob3duIGluIHRoZSBiZWxvdyBleGFtcGxlLmApLG1keCgiaDQiLHsiaWQiOiJleGFtcGxlLTEifSxgRXhhbXBsZTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEhTRVQgY2FydDo3N2Y3ZmM4ODFlZGMyZjU1OGU2ODNhMjMwZWFjMjE3ZCBwcm9kdWN0OmUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiAxCmApKSxtZHgoImg0Iix7ImlkIjoiaG93LXRoZS1kYXRhLWlzLW1vZGlmaWVkIn0sYEhvdyB0aGUgZGF0YSBpcyBtb2RpZmllZDpgKSxtZHgoInAiLG51bGwsYFRoZSBwcm9kdWN0IGRhdGEgaXMgbW9kaWZpZWQgbGlrZSBgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEpTT04uU0VUIHByb2R1Y3Q6e3Byb2R1Y3RJZH0gLiAneyAiaWQiOiAicHJvZHVjdElkIiwgIm5hbWUiOiAiUHJvZHVjdCBOYW1lIiwgInByaWNlIjogIjM3NS4wMCIsICJzdG9jayI6IHtuZXdTdG9ja30gfScuCmApKSxtZHgoImg0Iix7ImlkIjoiZXhhbXBsZS0yIn0sYEV4YW1wbGU6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGBKU09OLlNFVCBwcm9kdWN0OmUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiAuICd7ICJpZCI6ICJlMTgyMTE1YS02M2QyLTQyY2UtOGZlMC01ZjY5NmVjZGZiYTYiLCAibmFtZSI6ICJCcmlsbGlhbnQgV2F0Y2giLCAicHJpY2UiOiAiMjUwLjAwIiwgInN0b2NrIjogMSB9JwpgKSksbWR4KCJwIixudWxsLGBUaGUgY2FydCBkYXRhIGlzIG1vZGlmaWVkIGxpa2UgYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGBIU0VUIGNhcnQ6e2NhcnRJZH0gcHJvZHVjdDp7cHJvZHVjdElkfSB7bmV3UHJvZHVjdFF1YW50aXR5fSBvciBISU5DUkJZIGNhcnQ6e2NhcnRJZH0gcHJvZHVjdDp7cHJvZHVjdElkfSB7aW5jcmVtZW50Qnl9LgpgKSksbWR4KCJoNCIseyJpZCI6ImV4YW1wbGUtMyJ9LGBFeGFtcGxlOmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgSFNFVCBjYXJ0Ojc3ZjdmYzg4MWVkYzJmNTU4ZTY4M2EyMzBlYWMyMTdkIHByb2R1Y3Q6ZTE4MjExNWEtNjNkMi00MmNlLThmZTAtNWY2OTZlY2RmYmE2IDIKCkhJTkNSQlkgY2FydDo3N2Y3ZmM4ODFlZGMyZjU1OGU2ODNhMjMwZWFjMjE3ZCBwcm9kdWN0OmUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiAxCgpISU5DUkJZIGNhcnQ6NzdmN2ZjODgxZWRjMmY1NThlNjgzYTIzMGVhYzIxN2QgcHJvZHVjdDplMTgyMTE1YS02M2QyLTQyY2UtOGZlMC01ZjY5NmVjZGZiYTYgLTEKYCkpLG1keCgicCIsbnVsbCxgVGhlIHByb2R1Y3QgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgY2FydCBsaWtlIGApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgSERFTCBjYXJ0OntjYXJ0SWR9IHByb2R1Y3Q6e3Byb2R1Y3RJZH0KYCkpLG1keCgiaDQiLHsiaWQiOiJleGFtcGxlLTQifSxgRXhhbXBsZTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEhERUwgY2FydDo3N2Y3ZmM4ODFlZGMyZjU1OGU2ODNhMjMwZWFjMjE3ZCBwcm9kdWN0OmUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNgpgKSksbWR4KCJwIixudWxsLGBUaGUgY2FydCBjYW4gYmUgY2xlYXJlZCB1c2luZyBgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEhHRVRBTEwgY2FydDp7Y2FydElkfSBhbmQgdGhlbiBIREVMIGNhcnQ6e2NhcnRJZH0ge3Byb2R1Y3RLZXl9IGluIGxvb3AuCmApKSxtZHgoImg0Iix7ImlkIjoiZXhhbXBsZS01In0sYEV4YW1wbGU6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGBIR0VUQUxMIGNhcnQ6NzdmN2ZjODgxZWRjMmY1NThlNjgzYTIzMGVhYzIxN2QgPT4gcHJvZHVjdDplMTgyMTE1YS02M2QyLTQyY2UtOGZlMC01ZjY5NmVjZGZiYTYsIHByb2R1Y3Q6ZjlhNmQyMTQtMWMzOC00N2FiLWE2MWMtYzk5YTU5NDM4YjEyLCBwcm9kdWN0OjFmMTMyMWJiLTA1NDItNDVkMC05NjAxLTJhM2QwMDdkNTg0MiA9PiBIREVMIGNhcnQ6NzdmN2ZjODgxZWRjMmY1NThlNjgzYTIzMGVhYzIxN2QgcHJvZHVjdDplMTgyMTE1YS02M2QyLTQyY2UtOGZlMC01ZjY5NmVjZGZiYTYsIEhERUwgY2FydDo3N2Y3ZmM4ODFlZGMyZjU1OGU2ODNhMjMwZWFjMjE3ZCBwcm9kdWN0OmY5YTZkMjE0LTFjMzgtNDdhYi1hNjFjLWM5OWE1OTQzOGIxMiwgSERFTCBjYXJ0Ojc3ZjdmYzg4MWVkYzJmNTU4ZTY4M2EyMzBlYWMyMTdkIHByb2R1Y3Q6MWYxMzIxYmItMDU0Mi00NWQwLTk2MDEtMmEzZDAwN2Q1ODQyCmApKSxtZHgoInAiLG51bGwsYEFsbCBjYXJ0cyBjYW4gYmUgZGVsZXRlZCB3aGVuIHJlc2V0IGRhdGEgaXMgcmVxdWVzdGVkIGxpa2U6IGApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgIFNDQU4ge2N1cnNvcn0gTUFUQ0ggY2FydDoqIGFuZCB0aGVuIERFTCBjYXJ0OntjYXJ0SWR9IGluIGxvb3AuCmApKSxtZHgoImg0Iix7ImlkIjoiZXhhbXBsZS02In0sYEV4YW1wbGU6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGAgU0NBTiB7Y3Vyc29yfSBNQVRDSCBjYXJ0OiogPT4gY2FydDo3N2Y3ZmM4ODFlZGMyZjU1OGU2ODNhMjMwZWFjMjE3ZCwgY2FydDoyMTdkZWRjMmY1NThlNjgzYTIzMGVhYzc3ZjdmYzg4MSwgY2FydDoxZWRlNzdmNTU4NjgzYTIzMGVhYzdmYzg4MjE3ZGMyZiA9PiBERUwgY2FydDo3N2Y3ZmM4ODFlZGMyZjU1OGU2ODNhMjMwZWFjMjE3ZCwgREVMIGNhcnQ6MjE3ZGVkYzJmNTU4ZTY4M2EyMzBlYWM3N2Y3ZmM4ODEsIERFTCBjYXJ0OjFlZGU3N2Y1NTg2ODNhMjMwZWFjN2ZjODgyMTdkYzJmCmApKSxtZHgoImg0Iix7ImlkIjoiaG93LXRoZS1kYXRhLWlzLWFjY2Vzc2VkIn0sYEhvdyB0aGUgZGF0YSBpcyBhY2Nlc3NlZDpgKSxtZHgoInAiLG51bGwsYFByb2R1Y3RzOiBTQ0FOIHtjdXJzb3J9IE1BVENIIHByb2R1Y3Q6KiB0byBnZXQgYWxsIHByb2R1Y3Qga2V5cyBhbmQgdGhlbiBKU09OLkdFVCB7cHJvZHVjdEtleX1gKSxtZHgoImg0Iix7ImlkIjoiZXhhbXBsZS03In0sYEV4YW1wbGU6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGBTQ0FOIHtjdXJzb3J9IE1BVENIIHByb2R1Y3Q6KiA9PiBwcm9kdWN0OmUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiwgcHJvZHVjdDpmOWE2ZDIxNC0xYzM4LTQ3YWItYTYxYy1jOTlhNTk0MzhiMTIsIHByb2R1Y3Q6MWYxMzIxYmItMDU0Mi00NWQwLTk2MDEtMmEzZDAwN2Q1ODQyIAo9PiBKU09OLkdFVCBwcm9kdWN0OmUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiwgSlNPTi5HRVQgcHJvZHVjdDpmOWE2ZDIxNC0xYzM4LTQ3YWItYTYxYy1jOTlhNTk0MzhiMSwgSlNPTi5HRVQgcHJvZHVjdDoxZjEzMjFiYi0wNTQyLTQ1ZDAtOTYwMS0yYTNkMDA3ZDU4NDIKYCkpLG1keCgicCIsbnVsbCxgQ2FydDogSEdFVEFMTCBjYXJ0OntjYXJ0SWR9IHRvIGdldCBxdWFudGl0eSBvZiBwcm9kdWN0cyBhbmQgSlNPTi5HRVQgcHJvZHVjdDp7cHJvZHVjdElkfSB0byBnZXQgcHJvZHVjdHMgZGF0YSBpbiBsb29wLmApLG1keCgiaDQiLHsiaWQiOiJleGFtcGxlLTgifSxgRXhhbXBsZTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYEhHRVRBTEwgY2FydDo3N2Y3ZmM4ODFlZGMyZjU1OGU2ODNhMjMwZWFjMjE3ZCA9PiBwcm9kdWN0OmUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiAocXVhbnRpdHk6IDEpLCBwcm9kdWN0OmY5YTZkMjE0LTFjMzgtNDdhYi1hNjFjLWM5OWE1OTQzOGIxMiAocXVhbnRpdHk6IDApLCBwcm9kdWN0OjFmMTMyMWJiLTA1NDItNDVkMC05NjAxLTJhM2QwMDdkNTg0MiAocXVhbnRpdHk6IDIpID0+IEpTT04uR0VUIHByb2R1Y3Q6ZTE4MjExNWEtNjNkMi00MmNlLThmZTAtNWY2OTZlY2RmYmE2LCBKU09OLkdFVCBwcm9kdWN0OmY5YTZkMjE0LTFjMzgtNDdhYi1hNjFjLWM5OWE1OTQzOGIxMiwgSlNPTi5HRVQgcHJvZHVjdDoxZjEzMjFiYi0wNTQyLTQ1ZDAtOTYwMS0yYTNkMDA3ZDU4NDIKYCkpLG1keCgicCIsbnVsbCxgSEdFVEFMTCByZXR1cm5zIGFuIGFycmF5IG9mIGtleXMgYW5kIGNvcnJlc3BvbmRpbmcgdmFsdWVzIGZyb20gaGFzaCBkYXRhIHR5cGUuCk9wZW4gdXAgUmVkaXNDbGllbnQuanMgZmlsZSB1c2luZyB5b3VyIGZhdm91cml0ZSBlZGl0b3IgYXMgc2hvd24gYmVsb3c6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGAvLyBzZXJ2aWNlcy9SZWRpc0NsaWVudC5qcwoKY29uc3QgeyBwcm9taXNpZnkgfSA9IHJlcXVpcmUoJ3V0aWwnKTsKCmNsYXNzIFJlZGlzQ2xpZW50IHsKICAgIGNvbnN0cnVjdG9yKHJlZGlzQ2xpZW50KSB7CiAgICAgICAgWydqc29uX2dldCcsICdqc29uX3NldCcsICdoZ2V0YWxsJywgJ2hzZXQnLCAnaGdldCcsICdoZGVsJywgJ2hpbmNyYnknLCAnZGVsJywgJ3NjYW4nXS5mb3JFYWNoKAogICAgICAgICAgICBtZXRob2QgPT4gKHJlZGlzQ2xpZW50W21ldGhvZF0gPSBwcm9taXNpZnkocmVkaXNDbGllbnRbbWV0aG9kXSkpCiAgICAgICAgKTsKICAgICAgICB0aGlzLnJlZGlzID0gcmVkaXNDbGllbnQ7CiAgICB9CgogICAgYXN5bmMgc2NhbihwYXR0ZXJuKSB7CiAgICAgICAgbGV0IG1hdGNoaW5nS2V5c0NvdW50ID0gMDsKICAgICAgICBsZXQga2V5cyA9IFtdOwoKICAgICAgICBjb25zdCByZWN1cnNpdmVTY2FuID0gYXN5bmMgKGN1cnNvciA9ICcwJykgPT4gewogICAgICAgICAgICBjb25zdCBbbmV3Q3Vyc29yLCBtYXRjaGluZ0tleXNdID0gYXdhaXQgdGhpcy5yZWRpcy5zY2FuKGN1cnNvciwgJ01BVENIJywgcGF0dGVybik7CiAgICAgICAgICAgIGN1cnNvciA9IG5ld0N1cnNvcjsKCiAgICAgICAgICAgIG1hdGNoaW5nS2V5c0NvdW50ICs9IG1hdGNoaW5nS2V5cy5sZW5ndGg7CiAgICAgICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChtYXRjaGluZ0tleXMpOwoKICAgICAgICAgICAgaWYgKGN1cnNvciA9PT0gJzAnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4ga2V5czsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCByZWN1cnNpdmVTY2FuKGN1cnNvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gYXdhaXQgcmVjdXJzaXZlU2NhbigpOwogICAgfQoKICAgIGpzb25HZXQoa2V5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVkaXMuanNvbl9nZXQoa2V5KTsKICAgIH0KCiAgICBqc29uU2V0KGtleSwgcGF0aCwganNvbikgewogICAgICAgIHJldHVybiB0aGlzLnJlZGlzLmpzb25fc2V0KGtleSwgcGF0aCwganNvbik7CiAgICB9CgogICAgaGdldGFsbChrZXkpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZWRpcy5oZ2V0YWxsKGtleSk7CiAgICB9CgogICAgaHNldChoYXNoLCBrZXksIHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVkaXMuaHNldChoYXNoLCBrZXksIHZhbHVlKTsKICAgIH0KCiAgICBoZ2V0KGhhc2gsIGtleSkgewogICAgICAgIHJldHVybiB0aGlzLnJlZGlzLmhnZXQoaGFzaCwga2V5KTsKICAgIH0KCiAgICBoZGVsKGhhc2gsIGtleSkgewogICAgICAgIHJldHVybiB0aGlzLnJlZGlzLmhkZWwoaGFzaCwga2V5KTsKICAgIH0KCiAgICBoaW5jcmJ5KGhhc2gsIGtleSwgaW5jcikgewogICAgICAgIHJldHVybiB0aGlzLnJlZGlzLmhpbmNyYnkoaGFzaCwga2V5LCBpbmNyKTsKICAgIH0KCiAgICBkZWwoa2V5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVkaXMuZGVsKGtleSk7CiAgICB9Cn0KCm1vZHVsZS5leHBvcnRzID0gUmVkaXNDbGllbnQ7CmApKSxtZHgoImg0Iix7ImlkIjoiaG93LWRvZXMtdGhlLW92ZXJhbGwtcHJvY2Vzcy13b3JrIn0sYEhvdyBkb2VzIHRoZSBvdmVyYWxsIHByb2Nlc3Mgd29yaz9gKSxtZHgoInAiLG51bGwsYFRoZSBwcm9jZXNzIGZsb3cgaXMgZmFpcmx5IHN0cmFpZ2h0Zm9yd2FyZC4gT25jZSBhIHJlcXVlc3QgaXMgc2VudCB0byBhbiBlbmRwb2ludCBvbiB0aGlzIHNob3BwaW5nIGNhcnQgYXBwbGljYXRpb24gZS5nIGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS8uIEl0IGZpcnN0IGhpdHMgdGhlIHJvdXRlciBmb3IgdGhhdCBlbmRwb2ludCBhbmQgdGhlbiBpZiBpdCBpcyBhIHB1YmxpYyBlbmRwb2ludCBzdWNoIGFzIHRoaXMgb25lIGl0IGdvZXMgdG8gdGhlIGNvbnRyb2xsZXIgdGhhdCBoYW5kbGVzIHRoYXQuICBBcyBhbiBhbmFsb2d5LCB0aGUgY29udHJvbGxlciBpcyBqdXN0IGxpa2UgYSBtYW5hZ2VyLCB3aGlsZSB0aGUgc2VydmljZSBpcyB0aGUgd29ya2VyLiBBIGNvbnRyb2xsZXIgbWFuYWdlcyB0aGUgaW5jb21pbmcgd29yayBIVFRQIHJlcXVlc3RzIHdoZXJlYXMgc2VydmljZXMgcmVjZWl2ZXMgdGhlIHJlcXVlc3QgZGF0YSBpdCBuZWVkcyBmcm9tIHRoZSBtYW5hZ2VyIGluIG9yZGVyIHRvIHBlcmZvcm0gaXRzIHRhc2tzYCksbWR4KCJwIixudWxsLGBOZXh0LCB3ZSBjcmVhdGUgcm91dGVzIGZvciBhIGNhcnQgaW4gYSBtb2R1bGUgbmFtZWQgY2FydC5qcy4gVGhlIGNvZGUgZmlyc3QgaW1wb3J0cyB0aGUgRXhwcmVzcyBhcHBsaWNhdGlvbiBvYmplY3QsIHVzZXMgaXQgdG8gZ2V0IGEgUm91dGVyIG9iamVjdCBhbmQgdGhlbiBhZGRzIGEgY291cGxlIG9mIHJvdXRlcyB0byBpdCB1c2luZyB0aGUgZ2V0KCkgbWV0aG9kLiBMYXN0IG9mIGFsbCB0aGUgbW9kdWxlIHJldHVybnMgdGhlIFJvdXRlciBvYmplY3QuYCksbWR4KCJwIixudWxsLGBGaXJzdCBsZXQgdXMgZGVmaW5lIHRoZSBwcm9kdWN0IG1vZGVsIHRvIG91ciBjb250cm9sbGVycy9Qcm9kdWN0L0luZGV4Q29udHJvbGxlci5qcyBmaWxlKGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Imh0dHBzOi8vZ2l0aHViLmNvbS9yZWRpcy1kZXZlbG9wZXIvYmFzaWMtcmVkaXMtc2hvcHBpbmctY2hhcnQtbm9kZWpzL3RyZWUvbWFpbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzL1Byb2R1Y3QifSksYGh0dHBzOi8vZ2l0aHViLmNvbS9yZWRpcy1kZXZlbG9wZXIvYmFzaWMtcmVkaXMtc2hvcHBpbmctY2hhcnQtbm9kZWpzL3RyZWUvbWFpbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzL1Byb2R1Y3RgKSxgKTpgKSxtZHgoInAiLG51bGwsYE91ciBwcm9kdWN0IG1vZGVsIHdpbGwgYmUgYmFzaWMgYXMgcG9zc2libGUgYXMgaXQgaG9sZHMgdGhlIHByb2R1Y3QgbmFtZSwgcHJpY2UgYW5kIGltYWdlLmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgewogICAgInByb2R1Y3RzIjogWwogICAgICAgIHsKICAgICAgICAgICAgImlkIjogImUxODIxMTVhLTYzZDItNDJjZS04ZmUwLTVmNjk2ZWNkZmJhNiIsCiAgICAgICAgICAgICJuYW1lIjogIkJyaWxsaWFudCBXYXRjaCIsCiAgICAgICAgICAgICJwcmljZSI6ICIyNTAuMDAiLAogICAgICAgICAgICAic3RvY2siOiAyCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICJmOWE2ZDIxNC0xYzM4LTQ3YWItYTYxYy1jOTlhNTk0MzhiMTIiLAogICAgICAgICAgICAibmFtZSI6ICJPbGQgZmFzaGlvbiBjZWxscGhvbmUiLAogICAgICAgICAgICAicHJpY2UiOiAiMjQuMDAiLAogICAgICAgICAgICAic3RvY2siOiAyCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICIxZjEzMjFiYi0wNTQyLTQ1ZDAtOTYwMS0yYTNkMDA3ZDU4NDIiLAogICAgICAgICAgICAibmFtZSI6ICJNb2Rlcm4gaVBob25lIiwKICAgICAgICAgICAgInByaWNlIjogIjEwMDAuMDAiLAogICAgICAgICAgICAic3RvY2siOiAyCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICJmNTM4NGVmYy1lYWRiLTRkN2ItYTEzMS0zNjUxNjI2OWMyMTgiLAogICAgICAgICAgICAibmFtZSI6ICJCZWF1dGlmdWwgU3VuZ2xhc3NlcyIsCiAgICAgICAgICAgICJwcmljZSI6ICIxMi4wMCIsCiAgICAgICAgICAgICJzdG9jayI6IDIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgImlkIjogIjZkNmNhODlkLWZiYzItNGZjMi05M2QwLTZlZTQ2YWU5NzM0NSIsCiAgICAgICAgICAgICJuYW1lIjogIlN0eWxpc2ggQ3VwIiwKICAgICAgICAgICAgInByaWNlIjogIjguMDAiLAogICAgICAgICAgICAic3RvY2siOiAyCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICJlZmUwYzdhMy05ODM1LTRkZmItODdlMS01NzViN2QwNjcwMWEiLAogICAgICAgICAgICAibmFtZSI6ICJIZXJiIGNhcHMiLAogICAgICAgICAgICAicHJpY2UiOiAiMTIuMDAiLAogICAgICAgICAgICAic3RvY2siOiAyCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICJ4MzQxMTE1YS02M2QyLTQyY2UtOGZlMC01ZjY5NmVjZGZjYTYiLAogICAgICAgICAgICAibmFtZSI6ICJBdWRpb3BoaWxlIEhlYWRwaG9uZXMiLAogICAgICAgICAgICAicHJpY2UiOiAiNTUwLjAwIiwKICAgICAgICAgICAgInN0b2NrIjogMgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICAiaWQiOiAiNDI4NjA0OTEtOWYxNS00M2Q0LWFkZWItMGRiMmNjOTkxNzRhIiwKICAgICAgICAgICAgIm5hbWUiOiAiRGlnaXRhbCBDYW1lcmEiLAogICAgICAgICAgICAicHJpY2UiOiAiMjI1LjAwIiwKICAgICAgICAgICAgInN0b2NrIjogMgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICAiaWQiOiAiNjNhM2M2MzUtNDUwNS00NTg4LTg0NTctZWQwNGZiYjc2NTExIiwKICAgICAgICAgICAgIm5hbWUiOiAiRW1wdHkgQmx1cmF5IERpc2MiLAogICAgICAgICAgICAicHJpY2UiOiAiNS4wMCIsCiAgICAgICAgICAgICJzdG9jayI6IDIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgImlkIjogIjk3YTE5ODQyLWRiMzEtNDUzNy05MjQxLTUwNTNkN2M5NjIzOSIsCiAgICAgICAgICAgICJuYW1lIjogIjI1NkJHIFBlbmRyaXZlIiwKICAgICAgICAgICAgInByaWNlIjogIjYwLjAwIiwKICAgICAgICAgICAgInN0b2NrIjogMgogICAgICAgIH0KICAgIF0KfQpgKSksbWR4KCJoNCIseyJpZCI6InRlc3RpbmctdGhlLXNlcnZlciJ9LGBUZXN0aW5nIHRoZSBTZXJ2ZXJgKSxtZHgoInAiLG51bGwsYENvcHkgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC5lbnYuZXhhbXBsZWApLGAgdG8gYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC5lbnZgKSxgIGZpbGUgYW5kIGZpbGwgZW52aXJvbm1lbnRhbCB2YXJpYWJsZXMgYXMgc2hvd24gYmVsb3c6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGBSRURJU19QT1JUPTYzNzkKUkVESVNfSE9TVD0xMjcuMC4wLjEKUkVESVNfUEFTU1dPUkQ9ZGVtbwoKQ09NUE9TRV9QUk9KRUNUX05BTUU9cmVkaXMtc2hvcHBpbmctY2FydApgKSksbWR4KCJwIixudWxsLGAoTm90ZTogSW4gY2FzZSB5b3XigJlyZSB1c2luZyBSZWRpcyBFbnRlcnByaXNlIENsb3VkIGluc3RlYWQgb2YgbG9jYWxob3N0LCB0aGVuIHlvdSBuZWVkIHRvIGVudGVyIHRoZSBkYXRhYmFzZSBlbmRwb2ludCB1bmRlciBSRURJU19IT1NUKHdpdGhvdXQgcG9ydCkgd2hpbGUgcmVzdCBvZiB0aGUgZW50cmllcyBsaWtlIFJFRElTX1BPUlQgYW5kIFJFRElTX1BBU1NXT1JEIGFyZSBxdWl0ZSBvYnZpb3VzKWApLG1keCgiaDQiLHsiaWQiOiJpbnN0YWxsaW5nLXRoZS1kZXBlbmRlbmNpZXMifSxgSW5zdGFsbGluZyB0aGUgZGVwZW5kZW5jaWVzYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGAkIG5wbSBpbnN0YWxsCmApKSxtZHgoImg0Iix7ImlkIjoidGVzdGluZy10aGUtcm91dGVzIn0sYFRlc3RpbmcgdGhlIFJvdXRlc2ApLG1keCgicCIsbnVsbCxgQWZ0ZXIgYWRkaW5nIHRoaXMsIHlvdSBjYW4gcnVuIHlvdXIgYXBwbGljYXRpb24gYnkgdHlwaW5nIG5wbSBpbnN0YWxsIGluIHlvdXIgdGVybWluYWwuIE9uY2UgeW91IHJ1biB0aGlzIGNvbW1hbmQsIGl0IHdpbGwgcmV0dXJuIEFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgb24gMzAwMC5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYCQgbnBtIHJ1biBkZXYKYCkpLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgJCBucG0gcnVuIGRldgoKPiByZWRpcy1zaG9wcGluZy1jYXJ0LWJhY2tlbmRAMS4wLjAgZGV2Cj4gbm9kZW1vbiBzcmMvaW5kZXguanMKCltub2RlbW9uXSAyLjAuNwpbbm9kZW1vbl0gdG8gcmVzdGFydCBhdCBhbnkgdGltZSwgZW50ZXIgXGByc1xgCltub2RlbW9uXSB3YXRjaGluZyBwYXRoKHMpOiAqLioKW25vZGVtb25dIHdhdGNoaW5nIGV4dGVuc2lvbnM6IGpzLG1qcyxqc29uCltub2RlbW9uXSBzdGFydGluZyBcYG5vZGUgc3JjL2luZGV4LmpzXGAKQXBwIGxpc3RlbmluZyBvbiBwb3J0IDMwMDAKYCkpLG1keCgiaDMiLHsiaWQiOiJzZXR0aW5nLXVwLXRoZS1mcm9udGVuZC13ZWItY2xpZW50LXVzaW5nLXZ1ZWpzIn0sYFNldHRpbmcgdXAgdGhlIGZyb250ZW5kIHdlYiBDbGllbnQgdXNpbmcgVnVlLmpzYCksbWR4KCJwIixudWxsLGBOb3cgdGhhdCB3ZSBoYXZlIHRoZSBhcHBsaWNhdGlvbuKAmXMgYmFja2VuZCBydW5uaW5nLCBsZXQgdXMgYmVnaW4gZGV2ZWxvcGluZyBpdHMgZnJvbnRlbmQuIFdlIHdpbGwgYmUgbGV2ZXJhZ2luZyBWdWUuanMgLSBhIHJvYnVzdCBidXQgc2ltcGxlIEphdmFTY3JpcHQgZnJhbWV3b3JrIGZvciBidWlsZGluZyBvdXIgZnJvbnRlbmQgd2ViIGNsaWVudC4gSXQgaGFzIG9uZSBvZiB0aGUgbG93ZXN0IGJhcnJpZXJzIHRvIGVudHJ5IG9mIGFueSBtb2Rlcm4gZnJhbWV3b3JrIHdoaWxlIHByb3ZpZGluZyBhbGwgdGhlIHJlcXVpcmVkIGZlYXR1cmVzIGZvciBoaWdoIHBlcmZvcm1hbmNlIHdlYiBhcHBsaWNhdGlvbnMuYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGAuCuKUnOKUgOKUgCBSRUFETUUubWQK4pSc4pSA4pSAIGJhYmVsLmNvbmZpZy5qcwrilJzilIDilIAgbm9kZV9tb2R1bGVzCuKUnOKUgOKUgCBwYWNrYWdlLWxvY2suanNvbgrilJzilIDilIAgcGFja2FnZS5qc29uCuKUnOKUgOKUgCBwdWJsaWMK4pSc4pSA4pSAIHNyYwrilJTilIDilIAgdnVlLmNvbmZpZy5qcwpgKSksbWR4KCJwIixudWxsLGBUaGUgZmlsZXMgYXQgdGhlIHJvb3QgbGV2ZWwgKGJhYmVsLmNvbmZpZy5qcywgcGFja2FnZS5qc29uLCBub2RlX21vZHVsZXMpIGFyZSB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUgcHJvamVjdC4KVGhlIG1vc3QgaW50ZXJlc3RpbmcgcGFydCwgYXQgbGVhc3QgZm9yIG5vdywgaXMgbG9jYXRlZCBpbiB0aGUgc3JjIGRpcmVjdG9yeShkaXJlY3Rvcnkgc3RydWN0dXJlIGlzIHNob3duIGJlbG93KTpgKSxtZHgoInAiLG51bGwsYFRoZSBtYWluLmpzIGZpbGUgaXMgdGhlIG1haW4gSmF2YVNjcmlwdCBmaWxlIG9mIHRoZSBhcHBsaWNhdGlvbiwgd2hpY2ggd2lsbCBsb2FkIGFsbCBjb21tb24gZWxlbWVudHMgYW5kIGNhbGwgdGhlIEFwcC52dWUgbWFpbiBzY3JlZW4uClRoZSBBcHAudnVlIGlzIGEgZmlsZSB0aGF0IGNvbnRhaW5zIGluIHRoZSBIVE1MLCBDU1MsIGFuZCBKYXZhU2NyaXB0IGZvciBhIHNwZWNpZmljIHBhZ2Ugb3IgdGVtcGxhdGUuIEFzIGFuIGVudHJ5IHBvaW50IGZvciB0aGUgYXBwbGljYXRpb24sIHRoaXMgcGFydCBpcyBzaGFyZWQgYnkgYWxsIHNjcmVlbnMgYnkgZGVmYXVsdCwgc28gaXQgaXMgYSBnb29kIHBsYWNlIHRvIHdyaXRlIHRoZSBub3RpZmljYXRpb24tY2xpZW50IHBpZWNlIGluIHRoaXMgZmlsZS4KVGhlIHB1YmxpYy9pbmRleC5odG1sIGlzIHRoZSBzdGF0aWMgZW50cnkgcG9pbnQgZnJvbSB3aGVyZSB0aGUgRE9NIHdpbGwgYmUgbG9hZGVkLiBgKSxtZHgoImg0Iix7ImlkIjoiZGlyZWN0b3J5LXN0cnVjdHVyZSJ9LGBEaXJlY3RvcnkgU3RydWN0dXJlOmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgJSB0cmVlCi4K4pSc4pSA4pSAIEFwcC52dWUK4pSc4pSA4pSAIGFzc2V0cwrilIIgICDilJzilIDilIAgUmVkaXNMYWJzX0lsbHVzdHJhdGlvbi5zdmcK4pSCICAg4pSU4pSA4pSAIHByb2R1Y3RzCuKUgiAgICAgICDilJzilIDilIAgMWYxMzIxYmItMDU0Mi00NWQwLTk2MDEtMmEzZDAwN2Q1ODQyLmpwZwrilIIgICAgICAg4pSc4pSA4pSAIDQyODYwNDkxLTlmMTUtNDNkNC1hZGViLTBkYjJjYzk5MTc0YS5qcGcK4pSCICAgICAgIOKUnOKUgOKUgCA2M2EzYzYzNS00NTA1LTQ1ODgtODQ1Ny1lZDA0ZmJiNzY1MTEuanBnCuKUgiAgICAgICDilJzilIDilIAgNmQ2Y2E4OWQtZmJjMi00ZmMyLTkzZDAtNmVlNDZhZTk3MzQ1LmpwZwrilIIgICAgICAg4pSc4pSA4pSAIDk3YTE5ODQyLWRiMzEtNDUzNy05MjQxLTUwNTNkN2M5NjIzOS5qcGcK4pSCICAgICAgIOKUnOKUgOKUgCBlMTgyMTE1YS02M2QyLTQyY2UtOGZlMC01ZjY5NmVjZGZiYTYuanBnCuKUgiAgICAgICDilJzilIDilIAgZWZlMGM3YTMtOTgzNS00ZGZiLTg3ZTEtNTc1YjdkMDY3MDFhLmpwZwrilIIgICAgICAg4pSc4pSA4pSAIGY1Mzg0ZWZjLWVhZGItNGQ3Yi1hMTMxLTM2NTE2MjY5YzIxOC5qcGcK4pSCICAgICAgIOKUnOKUgOKUgCBmOWE2ZDIxNC0xYzM4LTQ3YWItYTYxYy1jOTlhNTk0MzhiMTIuanBnCuKUgiAgICAgICDilJTilIDilIAgeDM0MTExNWEtNjNkMi00MmNlLThmZTAtNWY2OTZlY2RmY2E2LmpwZwrilJzilIDilIAgY29tcG9uZW50cwrilIIgICDilJzilIDilIAgQ2FydC52dWUK4pSCICAg4pSc4pSA4pSAIENhcnRJdGVtLnZ1ZQrilIIgICDilJzilIDilIAgQ2FydExpc3QudnVlCuKUgiAgIOKUnOKUgOKUgCBJbmZvLnZ1ZQrilIIgICDilJzilIDilIAgUHJvZHVjdC52dWUK4pSCICAg4pSc4pSA4pSAIFByb2R1Y3RMaXN0LnZ1ZQrilIIgICDilJTilIDilIAgUmVzZXREYXRhQnRuLnZ1ZQrilJzilIDilIAgY29uZmlnCuKUgiAgIOKUlOKUgOKUgCBpbmRleC5qcwrilJzilIDilIAgbWFpbi5qcwrilJzilIDilIAgcGx1Z2lucwrilIIgICDilJzilIDilIAgYXhpb3MuanMK4pSCICAg4pSU4pSA4pSAIHZ1ZXRpZnkuanMK4pSc4pSA4pSAIHN0b3JlCuKUgiAgIOKUnOKUgOKUgCBpbmRleC5qcwrilIIgICDilJTilIDilIAgbW9kdWxlcwrilIIgICAgICAg4pSc4pSA4pSAIGNhcnQuanMK4pSCICAgICAgIOKUlOKUgOKUgCBwcm9kdWN0cy5qcwrilJTilIDilIAgc3R5bGVzCiAgICDilJTilIDilIAgc3R5bGVzLnNjc3MKCjggZGlyZWN0b3JpZXMsIDI3IGZpbGVzCmApKSxtZHgoInAiLG51bGwsYEluIHRoZSBjbGllbnQgZGlyZWN0b3J5LCB1bmRlciB0aGUgc3ViZGlyZWN0b3J5IHNyYywgb3BlbiB0aGUgZmlsZSBBcHAudnVlLiBZb3Ugd2lsbCBzZWUgdGhlIGJlbG93IGNvbnRlbnQ6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGA8dGVtcGxhdGU+CiAgICA8di1hcHA+CiAgICAgICAgPHYtY29udGFpbmVyPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJteS04IGQtZmxleCBhbGlnbi1jZW50ZXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGEtNCByb3VuZGVkLWxnIHJlZCBkYXJrZW4tMSI+CiAgICAgICAgICAgICAgICAgICAgPHYtaWNvbiBjb2xvcj0id2hpdGUiIHNpemU9IjQ1Ij5tZGktY2FydC1wbHVzPC92LWljb24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxoMSBjbGFzcz0ibWwtNiBmb250LXdlaWdodC1yZWd1bGFyIj5TaG9wcGluZyBDYXJ0IGRlbW88L2gxPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3YtY29udGFpbmVyPgoKICAgICAgICA8di1jb250YWluZXI+CiAgICAgICAgICAgIDx2LXJvdz4KICAgICAgICAgICAgICAgIDx2LWNvbCBjb2xzPSIxMiIgc209IjciIG1kPSI4Ij4KICAgICAgICAgICAgICAgICAgICA8aW5mbyAvPgogICAgICAgICAgICAgICAgICAgIDxwcm9kdWN0LWxpc3QgOnByb2R1Y3RzPSJwcm9kdWN0cyIgLz4KICAgICAgICAgICAgICAgIDwvdi1jb2w+CiAgICAgICAgICAgICAgICA8di1jb2wgY29scz0iMTIiIHNtPSI1IiBtZD0iNCIgY2xhc3M9ImQtZmxleCBmbGV4LWNvbHVtbiI+CiAgICAgICAgICAgICAgICAgICAgPGNhcnQgLz4KICAgICAgICAgICAgICAgICAgICA8cmVzZXQtZGF0YS1idG4gY2xhc3M9Im10LTYiIC8+CiAgICAgICAgICAgICAgICA8L3YtY29sPgogICAgICAgICAgICA8L3Ytcm93PgoKICAgICAgICAgICAgPHYtZm9vdGVyIGNsYXNzPSJtdC0xMiBwYS0wIj4KICAgICAgICAgICAgICAgIMKpIENvcHlyaWdodCAyMDIxIHwgQWxsIFJpZ2h0cyBSZXNlcnZlZCB0byBSZWRpcyBMYWJzCiAgICAgICAgICAgIDwvdi1mb290ZXI+CiAgICAgICAgPC92LWNvbnRhaW5lcj4KICAgIDwvdi1hcHA+CjwvdGVtcGxhdGU+Cgo8c2NyaXB0PgppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBDYXJ0IGZyb20gJ0AvY29tcG9uZW50cy9DYXJ0JzsKaW1wb3J0IFByb2R1Y3RMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9Qcm9kdWN0TGlzdCc7CmltcG9ydCBSZXNldERhdGFCdG4gZnJvbSAnQC9jb21wb25lbnRzL1Jlc2V0RGF0YUJ0bi52dWUnOwppbXBvcnQgSW5mbyBmcm9tICdAL2NvbXBvbmVudHMvSW5mbyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQXBwJywKCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgUHJvZHVjdExpc3QsCiAgICAgICAgQ2FydCwKICAgICAgICBSZXNldERhdGFCdG4sCiAgICAgICAgSW5mbwogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcEdldHRlcnMoewogICAgICAgICAgICBwcm9kdWN0czogJ3Byb2R1Y3RzL2dldFByb2R1Y3RzJwogICAgICAgIH0pCiAgICB9LAoKICAgIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICAgICAgYXdhaXQgdGhpcy5mZXRjaFByb2R1Y3RzKCk7CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgICAgICAgZmV0Y2hQcm9kdWN0czogJ3Byb2R1Y3RzL2ZldGNoJwogICAgICAgIH0pCiAgICB9Cn07Cjwvc2NyaXB0PgpgKSksbWR4KCJwIixudWxsLGBUaGlzIGlzIGNsaWVudC1zaWRlIGNvZGUuIEhlcmUgQVBJIHJldHVybnMsIGFtb25nIG90aGVyIHRoaW5ncywgbGlua3MgdG8gaWNvbnMgc3VpdGFibGUgZm9yIHVzZSBvbiBNYXBzLiBJZiB5b3UgZm9sbG93IHRoZSBmbG93IHRocm91Z2gsIHlvdeKAmWxsIHNlZSB0aGUgbWFwIG1hcmtlcnMgYXJlIGxvYWRpbmcgdGhvc2UgaWNvbnMgZGlyZWN0bHkgdXNpbmcgdGhlIGluY2x1ZGUgVVJMcy5gKSxtZHgoImgzIix7ImlkIjoicnVubmluZ3Rlc3RpbmctdGhlLXdlYi1jbGllbnQifSxgUnVubmluZy9UZXN0aW5nIHRoZSB3ZWIgY2xpZW50YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGAkIGNkIGNsaWVudAokIG5wbSBydW4gc2VydmUgCgo+IHJlZGlzLXNob3BwaW5nLWNhcnQtY2xpZW50QDEuMC4wIHNlcnZlCj4gdnVlLWNsaS1zZXJ2aWNlIHNlcnZlCgogSU5GTyAgU3RhcnRpbmcgZGV2ZWxvcG1lbnQgc2VydmVyLi4uCjk4JSBhZnRlciBlbWl0dGluZyBDb3B5UGx1Z2luCgogRE9ORSAgQ29tcGlsZWQgc3VjY2Vzc2Z1bGx5IGluIDc3MzNtcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDc6MTU6NTYgQU0KCgogIEFwcCBydW5uaW5nIGF0OgogIC0gTG9jYWw6ICAgaHR0cDovL2xvY2FsaG9zdDo4MDgxLyAKICAtIE5ldHdvcms6IGh0dHA6Ly8xOTIuMTY4LjQzLjgxOjgwODEvCgogIE5vdGUgdGhhdCB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgaXMgbm90IG9wdGltaXplZC4KICBUbyBjcmVhdGUgYSBwcm9kdWN0aW9uIGJ1aWxkLCBydW4gbnBtIHJ1biBidWlsZC4KYCkpLG1keCgicCIsbnVsbCxgTGV0IHVzIGNsaWNrIG9uIHRoZSBmaXJzdCBpdGVtIOKAnDI1NkdCIFBlbmRyaXZl4oCdIGFuZCB0cnkgdG8gY2hlY2sgb3V0IHRoaXMgcHJvZHVjdC4gT25jZSB5b3UgYWRkIGl0IHRvIHRoZSBjYXJ0LCB5b3Ugd2lsbCBzZWUgdGhlIGJlbG93IG91dHB1dCB1c2luZyByZWRpcy1jbGkgbW9uaXRvciBjb21tYW5kOmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgMTYxMzMyMDI1Ni44MDE1NjIgWzAgMTcyLjIyLjAuMTo2NDQyMF0gImpzb24uZ2V0IiAicHJvZHVjdDo5N2ExOTg0Mi1kYjMxLTQ1MzctOTI0MS01MDUzZDdjOTYyMzkiCjE2MTMzMjAyNTYuODAzMDYyIFswIDE3Mi4yMi4wLjE6NjQ0MjBdICJoZ2V0IiAKLi4uCjE2MTMzMjAyNTYuODA1OTUwIFswIDE3Mi4yMi4wLjE6NjQ0MjBdICJqc29uLnNldCIgInByb2R1Y3Q6OTdhMTk4NDItZGIzMS00NTM3LTkyNDEtNTA1M2Q3Yzk2MjM5IiAiLiIgIntcXCJpZFxcIjpcXCI5N2ExOTg0Mi1kYjMxLTQ1MzctOTI0MS01MDUzZDdjOTYyMzlcXCIsXFwibmFtZVxcIjpcXCIyNTZCRyBQZW5kcml2ZVxcIixcXCJwcmljZVxcIjpcXCI2MC4wMFxcIixcXCJzdG9ja1xcIjoxfSIKMTYxMzMyMDI1Ni44MDc3OTIgWzAgMTcyLjIyLjAuMTo2NDQyMF0gInNldCIgInNlc3M6SWk5bmpYWmQ2emVVVmlMM3RLSmltTjV6VTdTYW1memUiIAouLi4KMTYxMzMyMDI1Ni44MjMwNTUgWzAgMTcyLjIyLjAuMTo2NDQyMF0gInNjYW4iICIwIiAiTUFUQ0giICJwcm9kdWN0OioiCi4uLgoxNjEzMzIwMjYzLjIzMjUyNyBbMCAxNzIuMjIuMC4xOjY0NDIwXSAiaGdldGFsbCIgImNhcnQ6YmRlZTE2MDYzOTVmNjk5ODVlOGY4ZTAxZDNhZGE4YzQiCjE2MTMzMjAyNjMuMjMzNzUyIFswIDE3Mi4yMi4wLjE6NjQ0MjBdICJzZXQiICJzZXNzOmdYazVLOWJvYnZyUjc5MC1IRkVvaTNiUTJrUDlZbWpWIiAie1xcImNvb2tpZVxcIjp7XFwib3JpZ2luYWxNYXhBZ2VcXCI6MTA4MDAwMDAsXFwiZXhwaXJlc1xcIjpcXCIyMDIxLTAyLTE0VDE5OjMxOjAzLjIzM1pcXCIsXFwiaHR0cE9ubHlcXCI6dHJ1ZSxcXCJwYXRoXFwiOlxcIi9cXCJ9LFxcImNhcnRJZFxcIjpcXCJiZGVlMTYwNjM5NWY2OTk4NWU4ZjhlMDFkM2FkYThjNFxcIn0iICJFWCIgIjEwODAwIgoxNjEzMzIwMjYzLjI0MDc5NyBbMCAxNzIuMjIuMC4xOjY0NDIwXSAic2NhbiIgIjAiICJNQVRDSCIgInByb2R1Y3Q6KiIKMTYxMzMyMDI2My4yNDE5MDggWzAgMTcyLjIyLjAuMTo2NDQyMF0gInNjYW4iICIyMiIgIk1BVENIIiAicHJvZHVjdDoqIgrigKYKIntcXCJjb29raWVcXCI6e1xcIm9yaWdpbmFsTWF4QWdlXFwiOjEwODAwMDAwLFxcImV4cGlyZXNcXCI6XFwiMjAyMS0wMi0xNFQxOTozMTowMy4yNTRaXFwiLFxcImh0dHBPbmx5XFwiOnRydWUsXFwicGF0aFxcIjpcXCIvXFwifSxcXCJjYXJ0SWRcXCI6XFwiNGJjMjMxMjkzYzUzNDUzNzBmOGZhYjgzYWZmNTJjZjNcXCJ9IiAiRVgiICIxMDgwMCIKYCkpLG1keCgicCIsbnVsbCxtZHgoImltZyIse2FsdDoiU2hvcHBpbmcgQ2FydCIsc3JjOnJlcXVpcmUoIiF1cmwtbG9hZGVyP2xpbWl0PTEwMDAwJm5hbWU9YXNzZXRzL2ltYWdlcy9bbmFtZV0tW2hhc2hdLltleHRdJmZhbGxiYWNrPWZpbGUtbG9hZGVyIS4vc2hvcHBpbmdjYXJ0NS5wbmciKS5kZWZhdWx0fSkpLG1keCgiaDMiLHsiaWQiOiJjb25jbHVzaW9uIn0sYENvbmNsdXNpb25gKSxtZHgoInAiLG51bGwsYFN0b3Jpbmcgc2hvcHBpbmcgY2FydCBkYXRhIGluIFJlZGlzIGlzIGEgZ29vZCBpZGVhIGJlY2F1c2UgaXQgbGV0cyB5b3UgcmV0cmlldmUgdGhlIGRhdGEgdmVyeSBmYXN0IGF0IGFueSB0aW1lIGFuZCBwZXJzaXN0IHRoaXMgZGF0YSBpZiBuZWVkZWQuIEFzIGNvbXBhcmVkIHRvIGNvb2tpZXMgdGhhdCBzdG9yZSB0aGUgZW50aXJlIHNob3BwaW5nIGNhcnQgZGF0YSBpbiBzZXNzaW9uIHRoYXQgaXMgYmxvYXRlZCBhbmQgcmVsYXRpdmVseSBzbG93IGluIG9wZXJhdGlvbiwgc3RvcmluZyB0aGUgc2hvcHBpbmcgY2FydCBkYXRhIGluIFJlZGlzIHNwZWVkcyB1cCB0aGUgc2hvcHBpbmcgY2FydOKAmXMgcmVhZCBhbmQgd3JpdGUgcGVyZm9ybWFuY2UgLCB0aGVyZWJ5IGltcHJvdmluZyB0aGUgdXNlciBleHBlcmllbmNlLmApLG1keCgiaDMiLHsiaWQiOiJyZWZlcmVuY2UifSxgUmVmZXJlbmNlYCksbWR4KCJ1bCIsbnVsbCxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJsaSJ9LHsiaHJlZiI6Imh0dHBzOi8vZ2l0aHViLmNvbS9yZWRpcy1kZXZlbG9wZXIvYmFzaWMtcmVkaXMtc2hvcHBpbmctY2hhcnQtbm9kZWpzIn0pLGBTb3VyY2UgY29kZWApKSkpO307TURYQ29udGVudC5pc01EWENvbXBvbmVudD10cnVlOw=="},{"version":3,"sources":["/Users/ajeetraina/projects/8sep/redis-developer.github.io/docs/howtos/shoppingcart/index-shoppingcart.mdx"],"names":["React","mdx","frontMatter","id","title","sidebar_label","slug","metadata","Tabs","TabItem","useBaseUrl","RedisCard","toc","value","children","layoutProps","MDXLayout","MDXContent","components","props","require","default","isMDXComponent"],"mappings":"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,CAFF,CAGE,UAAI,UAAU,CAAC,IAAf,EAAsB,YAAtB,CAHF,CAIE,UAAI,UAAU,CAAC,IAAf,EAAsB,UAAtB,CAJF,CApFK,CA0FL,aAAK,kgBAAL,CA1FK,CA2FL,SAAQ,CACN,KAAM,6BADA,CAAR,CAEK,6BAFL,CA3FK,CA8FL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAvBS,CAAL,CA9FK,CAsHL,aAAK,kFAAL,CAtHK,CAuHL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CApES,CAAL,CAvHK,CA4LL,aAAK,uQAAL,CA5LK,CA6LL,aAAK;AACT,2HADI,CA7LK,CA+LL,SAAQ,CACN,KAAM,QADA,CAAR,CAEK,QAFL,CA/LK,CAkML,aAAK,kWAAL,CAlMK,CAmML,aAAK,4HAAL,CAAiI,kBAAG,UAAU,CAAC,GAAd,EAAsB,CACnJ,OAAQ,kGAD2I,CAAtB,EAE1H,kGAF0H,CAAjI,CAE+G,MAF/G,CAnMK,CAsML,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAnBS,CAAL,CAtMK,CA0NL,aAAK;AACT;AAC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CA7VK,CA+VL,aAAK;AACT,wEADI,CA/VK,CAiWL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAnES,CAAL,CAjWK,CAqaL,SAAQ,CACN,KAAM,mCADA,CAAR,CAEK,oCAFL,CAraK,CAwaL,aAAK,8gBAAL,CAxaK,CAyaL,aAAK,qQAAL,CAzaK,CA0aL,aAAK,2FAAL,CAAgG,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAClH,OAAQ,+GAD0G,CAAtB,EAEzF,+GAFyF,CAAhG,CAE4H,IAF5H,CA1aK,CA6aL,aAAK,4FAAL,CA7aK,CA8aL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhES,CAAL,CA9aK,CA+eL,SAAQ,CACN,KAAM,oBADA,CAAR,CAEK,oBAFL,CA/eK,CAkfL,aAAK,OAAL,CAAY,kBAAY,UAAU,CAAC,GAAvB,EAA6B,cAA7B,CAAZ,CAAsE,MAAtE,CAA4E,kBAAY,UAAU,CAAC,GAAvB,EAA6B,MAA7B,CAA5E,CAA8H,wDAA9H,CAlfK,CAmfL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA,CALS,CAAL,CAnfK,CAyfL,aAAK,sOAAL,CAzfK,CA0fL,SAAQ,CACN,KAAM,6BADA,CAAR,CAEK,6BAFL,CA1fK,CA6fL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C,CADS,CAAL,CA7fK,CA+fL,SAAQ,CACN,KAAM,oBADA,CAAR,CAEK,oBAFL,CA/fK,CAkgBL,aAAK,mKAAL,CAlgBK,CAmgBL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C,CADS,CAAL,CAngBK,CAqgBL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAXS,CAAL,CArgBK,CAihBL,SAAQ,CACN,KAAM,gDADA,CAAR,CAEK,iDAFL,CAjhBK,CAohBL,aAAK,6VAAL,CAphBK,CAqhBL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATS,CAAL,CArhBK,CA+hBL,aAAK;AACT,kHADI,CA/hBK,CAiiBL,aAAK;AACT;AACA,oFAFI,CAjiBK,CAoiBL,SAAQ,CACN,KAAM,qBADA,CAAR,CAEK,sBAFL,CApiBK,CAuiBL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAvCS,CAAL,CAviBK,CA+kBL,aAAK,6GAAL,CA/kBK,CAglBL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhES,CAAL,CAhlBK,CAipBL,aAAK,8NAAL,CAjpBK,CAkpBL,SAAQ,CACN,KAAM,+BADA,CAAR,CAEK,gCAFL,CAlpBK,CAqpBL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAlBS,CAAL,CArpBK,CAwqBL,aAAK,gLAAL,CAxqBK,CAyqBL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,EAA3B,EAAiC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAdS,CAAL,CAzqBK,CAwrBL,aAAG,WAAK,GAAG,CAAE,eAAV,CAA2B,GAAG,CAAED,OAAO,CAAC,yGAAD,CAAP,CAAmHC,OAAnJ,EAAH,CAxrBK,CAyrBL,SAAQ,CACN,KAAM,YADA,CAAR,CAEK,YAFL,CAzrBK,CA4rBL,aAAK,wZAAL,CA5rBK,CA6rBL,SAAQ,CACN,KAAM,WADA,CAAR,CAEK,WAFL,CA7rBK,CAgsBL,cACE,UAAI,UAAU,CAAC,IAAf,EAAoB,kBAAG,UAAU,CAAC,IAAd,EAAuB,CACvC,OAAQ,sEAD+B,CAAvB,EAEb,aAFa,CAApB,CADF,CAhsBK,CAAP,CAssBD,CAED,CACAJ,UAAU,CAACK,cAAX,CAA4B,IAA5B","sourcesContent":["\n  import React from 'react';\n  import { mdx } from '@mdx-js/react';\n\n  export const frontMatter = {\n\tid: 'index-shoppingcart',\n\ttitle: 'How to build a Shopping cart app using NodeJS and Redis',\n\tsidebar_label: 'How to build a Shopping cart app using NodeJS and Redis',\n\tslug: '/howtos/shoppingcart'\n};\nexport const metadata = {\n  \"unversionedId\": \"howtos/shoppingcart/index-shoppingcart\",\n  \"id\": \"howtos/shoppingcart/index-shoppingcart\",\n  \"isDocsHomePage\": false,\n  \"title\": \"How to build a Shopping cart app using NodeJS and Redis\",\n  \"description\": \"It’s hard to imagine an online store without a shopping cart. Almost every online store must have the shopping cart functionality to be able to sell products to customers. In order to build a scalable ecommerce platform, you need a powerful framework and a simple storage system. At times, a lot of developers focus on improving the frontend performance of an ecommerce platform to rectify these things. The real bottleneck, however, remains the slow backend load time.\",\n  \"source\": \"@site/docs/howtos/shoppingcart/index-shoppingcart.mdx\",\n  \"slug\": \"/howtos/shoppingcart\",\n  \"permalink\": \"/howtos/shoppingcart\",\n  \"editUrl\": \"https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/shoppingcart/index-shoppingcart.mdx\",\n  \"version\": \"current\",\n  \"sidebar_label\": \"How to build a Shopping cart app using NodeJS and Redis\"\n};\n  /* @jsxRuntime classic */\n/* @jsx mdx */\nimport Tabs from '@theme/Tabs';\nimport TabItem from '@theme/TabItem';\nimport useBaseUrl from '@docusaurus/useBaseUrl';\nimport RedisCard from '@site/src/theme/RedisCard';\nexport const toc = [{\n  value: 'Content',\n  id: 'content',\n  children: []\n}, {\n  value: 'What will you build?',\n  id: 'what-will-you-build',\n  children: []\n}, {\n  value: 'What do you need?',\n  id: 'what-do-you-need',\n  children: []\n}, {\n  value: 'Getting Started',\n  id: 'getting-started',\n  children: []\n}, {\n  value: 'Setting up the backend server',\n  id: 'setting-up-the-backend-server',\n  children: []\n}, {\n  value: 'Setting up the frontend web Client using Vue.js',\n  id: 'setting-up-the-frontend-web-client-using-vuejs',\n  children: []\n}, {\n  value: 'Running/Testing the web client',\n  id: 'runningtesting-the-web-client',\n  children: []\n}, {\n  value: 'Conclusion',\n  id: 'conclusion',\n  children: []\n}, {\n  value: 'Reference',\n  id: 'reference',\n  children: []\n}];\n\nconst layoutProps = {\n  toc\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`It’s hard to imagine an online store without a shopping cart. Almost every online store must have the shopping cart functionality to be able to sell products to customers. In order to build a scalable ecommerce platform, you need a powerful framework and a simple storage system. At times, a lot of developers focus on improving the frontend performance of an ecommerce platform to rectify these things. The real bottleneck, however, remains the slow backend load time.\nA slow backend load time can have a serious impact on your search engine rankings. A good rule of thumb is that backend load time should take no more than 20% of your total load time. A good backend load time to aim for is 200ms or less.\nIn this tutorial, you will see how to build a shopping cart application using Node.js, Vue.js, Express and Redis.`}</p>\n    <div class=\"text--center\">\n      <iframe width=\"760\" height=\"415\" src=\"https://www.youtube.com/embed/Fvjn5fuUxOU\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n    </div>\n    <h3 {...{\n      \"id\": \"content\"\n    }}>{`Content`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`What will you build?`}</li>\n      <li parentName=\"ul\">{`What do you need?`}</li>\n      <li parentName=\"ul\">{`Getting started`}</li>\n      <li parentName=\"ul\">{`Setting up the backend (Node.js Express)`}</li>\n      <li parentName=\"ul\">{`Setting up the frontend (Vue.js)`}</li>\n      <li parentName=\"ul\">{`Running the application`}</li>\n      <li parentName=\"ul\">{`Conclusion`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"what-will-you-build\"\n    }}>{`What will you build?`}</h3>\n    <p>{`This tutorial will show you how to harness the power of Redis by creating a basic ecommerce shopping cart application with Node.js. Usually, the shopping cart data is stored on the client-side as a cookie. Cookies are small text files stored in a web user's browser directory or data folder. The advantage of doing this is that you wouldn't need to store such temporary data in your database. However, this will require you to send the cookies with every web request, which can slow down the request in case of large cookies. Storing shopping cart data in Redis is a good idea since you can retrieve the items very fast at any time and persist this data if needed.`}</p>\n    <p><img alt={\"Shopping Cart\"} src={require(\"!url-loader?limit=10000&name=assets/images/[name]-[hash].[ext]&fallback=file-loader!./shopping2.png\").default} /></p>\n    <h3 {...{\n      \"id\": \"what-do-you-need\"\n    }}>{`What do you need?`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Redis compiled with RedisJSON module`}</li>\n      <li parentName=\"ul\">{`Express 4 backend`}</li>\n      <li parentName=\"ul\">{`Node 15.5.0 (at least v12.9.0+)`}</li>\n      <li parentName=\"ul\">{`NPM 7.3.0 (at least v6.14.8+)`}</li>\n      <li parentName=\"ul\">{`Docker 19.03.X (Optional)`}</li>\n      <li parentName=\"ul\">{`Docker Compose (Optional)`}</li>\n    </ul>\n    <p>{`Building an ecommerce app with Node.js makes a lot more sense because it ensures the balance between frontend and backend load time due to its asynchronous nature (the ability to handle multiple concurrent users at a time). Node.js helps developers make the best use of event loops and callbacks for I/O operations. Node.js runs single-threaded, non-blocking, asynchronous programming, which is very memory efficient.`}</p>\n    <p>{`In order to create a shopping cart we need a simple storage system where we can collect products and the cart's total. Node.js provides us with the express-session package, middleware for ExpressJS. We will be using express-session middleware to manage sessions in Node.js The session is stored in the express server itself.`}</p>\n    <p>{`The default server-side session storage, MemoryStore, is purposely not designed for a production environment. It will leak memory under most conditions, does not scale past a single process, and is meant for debugging and developing. To manage multiple sessions for multiple users, we have to create a global map and put each session object to it. Global variables in NodeJs are memory consuming and can prove to be terrible security holes in production-level projects.This can be solved by using an external session store. We have to store every session in the store so that each one will belong to only a single user. One popular session store is built using Redis.`}</p>\n    <p>{`We will start by setting up the backend for our application. Let’s create a new directory for our application and initialize a new Node.js application. Open up your terminal and type the following:`}</p>\n    <h3 {...{\n      \"id\": \"getting-started\"\n    }}>{`Getting Started`}</h3>\n    <p>{`Clone the repository:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ git clone https://github.com/redis-developer/basic-redis-shopping-chart-nodejs\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"compiling-redis-with-redisjson-module\"\n    }}>{`Compiling Redis with RedisJSON module`}</h4>\n    <p>{`You can use the below docker compose file to run Redis server compiled with RedisJSON module:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`version: '3'\n\nservices:\n    redis:\n        image: redislabs/rejson:latest\n        container_name: redis.redisshoppingcart.docker\n        restart: unless-stopped\n        environment:\n            REDIS_PASSWORD: \\${REDIS_PASSWORD}\n        command: redis-server --loadmodule \"/usr/lib/redis/modules/rejson.so\" --requirepass \"$REDIS_PASSWORD\"\n        ports:\n            - 127.0.0.1:\\${REDIS_PORT}:6379\n        networks:\n            - global\nnetworks:\n    global:\n        external: true\n`}</code></pre>\n    <p>{`I assume that you have Docker and Docker Compose up and installed on your local environment. Execute the below compose CLI to bring up Redis server:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ docker network create global \n$ docker-compose up -d --build\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`docker-compose ps`}</inlineCode>{` shows the list of running Redis services:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ docker-compose ps\nName                           Command               State          Ports          \n\nredis.redisshoppingcart.docker   docker-entrypoint.sh redis ...   Up      127.0.0.1:55000->6379/tcp\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"setting-up-the-backend-server\"\n    }}>{`Setting up the backend server`}</h3>\n    <p><img alt={\"Shopping\"} src={require(\"!url-loader?limit=10000&name=assets/images/[name]-[hash].[ext]&fallback=file-loader!./shoppingcart3.png\").default} /></p>\n    <p>{`Node.js is a runtime environment that allows software developers to launch both the frontend and backend of web apps using JavaScript. To save your time, the directory /server/src has already been created for you.This is where we will be creating our modules by adding the following sub-directories -`}</p>\n    <ul>\n      <li parentName=\"ul\">{`routes`}</li>\n      <li parentName=\"ul\">{`controller`}</li>\n      <li parentName=\"ul\">{`middleware`}</li>\n      <li parentName=\"ul\">{`services`}</li>\n    </ul>\n    <p>{`Routes forward the supported requests (and any information encoded in request URLs) to the appropriate controller functions, whereas controller functions get the requested data from the models, create an HTML page displaying the data, and return it to the user to view in the browser. Services hold your actual business logic. Middleware functions are functions that have access to the request object (req), the response object (res), and the next middleware function in the application’s request-response cycle.`}</p>\n    <h4 {...{\n      \"id\": \"project-directory-structure\"\n    }}>{`Project directory structure`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`% tree\n.\n├── controllers\n│   ├── Cart\n│   │   ├── DeleteItemController.js\n│   │   ├── EmptyController.js\n│   │   ├── IndexController.js\n│   │   └── UpdateController.js\n│   └── Product\n│       ├── IndexController.js\n│       └── ResetController.js\n├── index.js\n├── middleware\n│   └── checkSession.js\n├── products.json\n├── routes\n│   ├── cart.js\n│   ├── index.js\n│   └── products.js\n└── services\n    └── RedisClient.js\n\n6 directories, 13 files\n`}</code></pre>\n    <p>{`Let us first initialize the application server through the index.js shown below:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// server/src/index.js\n\n\nconst express = require('express');\nconst redis = require('redis');\nconst rejson = require('redis-rejson');\nconst session = require('express-session');\nconst RedisStore = require('connect-redis')(session);\nconst path = require('path');\nconst bodyParser = require('body-parser');\nconst cors = require('cors');\nconst RedisClient = require('./services/RedisClient');\n\nrejson(redis);\n\nrequire('dotenv').config();\n\nconst { REDIS_ENDPOINT_URI, REDIS_HOST, REDIS_PORT, REDIS_PASSWORD, PORT } = process.env;\n\nconst app = express();\n\napp.use(\n    cors({\n        origin(origin, callback) {\n            callback(null, true);\n        },\n        credentials: true\n    })\n);\n\nconst redisEndpointUri = REDIS_ENDPOINT_URI\n    ? REDIS_ENDPOINT_URI.replace(/^(redis\\\\:\\\\/\\\\/)/, '')\n    : \\`\\${REDIS_HOST}:\\${REDIS_PORT}\\`;\n\nconst redisClient = redis.createClient(\\`redis://\\${redisEndpointUri}\\`, {\n    password: REDIS_PASSWORD\n});\n\nconst redisClientService = new RedisClient(redisClient);\n\napp.set('redisClientService', redisClientService);\n\napp.use(\n    session({\n        store: new RedisStore({ client: redisClient }),\n        secret: 'someSecret',\n        resave: false,\n        saveUninitialized: false,\n        rolling: true,\n        cookie: {\n            maxAge: 3600 * 1000 * 3\n        }\n    })\n);\n\napp.use(bodyParser.json());\n\napp.use('/', express.static(path.join(__dirname, '../../client-dist')));\n\nconst router = require('./routes')(app);\n\napp.use('/api', router);\n\nconst port = PORT || 3000;\n\napp.listen(port, () => {\n    console.log(\\`App listening on port \\${port}\\`);\n});\n`}</code></pre>\n    <p>{`You'll see that the responsibility of this index.js is to simply set up the server. It initializes all the middleware, sets up the view engine, etc. The last thing to do is set up routes by deferring that responsibility to the index.js within the routes folder.`}</p>\n    <p>{`As shown above, app.use, app.set, and app.listen are endpoints, for the purposes of this demo, we will need to be able to add and get items from the basket ( Keeping it simple ).\nWe need to define our basic routes to get all products, get single product details, remove products, and create products. `}</p>\n    <h4 {...{\n      \"id\": \"routes\"\n    }}>{`Routes`}</h4>\n    <p>{`The routes directory is only responsible for defining our routes. Within index.js in this folder, you'll see that its responsibility is to set up our top level routes and delegate their responsibilities to each of their respective route files. Each respective route file will further define any additional subroutes and controller actions for each one.`}</p>\n    <p>{`The web server skeleton already has a ./routes folder containing routes for the index, products and cart. (as shown under `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/routes\"\n      }}>{`https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/routes`}</a>{`)   `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// routes/index.js\n\nconst fs = require('fs');\nconst express = require('express');\nconst router = express.Router();\n\nmodule.exports = app => {\n    fs.readdirSync(__dirname).forEach(function (route) {\n        route = route.split('.')[0];\n\n        if (route === 'index') {\n            return;\n        }\n\n        router.use(\\`/\\${route}\\`, require(\\`./\\${route}\\`)(app));\n    });\n\n    return router;\n};\n`}</code></pre>\n    <p>{`A route is a section of Express code that associates an HTTP verb (GET, POST, PUT, DELETE, etc.), a URL path/pattern, and a function that is called to handle that pattern.\nThere are several ways to create routes. For this demo app we're going to use the express.Router middleware as it allows us to group the route handlers for a particular part of a site together and access them using a common route-prefix.\nThe module requires Express and then uses it to create a Router object. The routes are all set up on the router, which is then exported.The routes are defined either using .get() or .post() methods on the router object. All the paths are defined using strings (we don't use string patterns or regular expressions). Routes that act on some specific resource (e.g. book) use path parameters to get the object id from the URL.\nThe handler functions are all imported from the controller modules we created in the previous section.`}</p>\n    <h4 {...{\n      \"id\": \"controllers\"\n    }}>{`Controllers`}</h4>\n    <p>{`Controllers are responsible for invoking the appropriate action. If a controller's responsibility is to render a view, it will render the appropriate view from the app/views directory.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// controller/Product/IndexController.js\n\n\nconst { products } = require('../../products.json');\n\nclass ProductIndexController {\n    constructor(redisClientService) {\n        this.redisClientService = redisClientService;\n    }\n\n    async index(req, res) {\n        const productKeys = await this.redisClientService.scan('product:*');\n        const productList = [];\n\n        if (productKeys.length) {\n            for (const key of productKeys) {\n                const product = await this.redisClientService.jsonGet(key);\n\n                productList.push(JSON.parse(product));\n            }\n\n            return res.send(productList);\n        }\n\n        for (const product of products) {\n            const { id } = product;\n\n            await this.redisClientService.jsonSet(\\`product:\\${id}\\`, '.', JSON.stringify(product));\n\n            productList.push(product);\n        }\n\n        return res.send(productList);\n    }\n}\n\nmodule.exports = ProductIndexController;\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"services\"\n    }}>{`Services`}</h4>\n    <p>{`Services hold your actual business logic.The service layer carries out the application logic and delegates CRUD operations to a database/persistent storage (Redis in our case). Let us look at each condition and try to understand how the data is stored, modified, and accessed:`}</p>\n    <h4 {...{\n      \"id\": \"how-the-data-is-stored\"\n    }}>{`How the data is stored:`}</h4>\n    <p>{`The product data is stored in an external JSON file. After the first request, this data is saved in a JSON data type in Redis like: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`JSON.SET product:{productId} . '{ \"id\": \"productId\", \"name\": \"Product Name\", \"price\": \"375.00\", \"stock\": 10 }'.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"example\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`JSON.SET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 . '{ \"id\": \"e182115a-63d2-42ce-8fe0-5f696ecdfba6\", \"name\": \"Brilliant Watch\", \"price\": \"250.00\", \"stock\": 2 }'\n`}</code></pre>\n    <p>{`The cart data is stored in a hash like: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`HSET cart:{cartId} product:{productId} {productQuantity}, \n`}</code></pre>\n    <p>{`where cartId is a random generated value and stored in the user session. Please note that Redis’s hash management command HSET stores 2 keys-cart and product-as shown in the below example.`}</p>\n    <h4 {...{\n      \"id\": \"example-1\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`HSET cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 1\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"how-the-data-is-modified\"\n    }}>{`How the data is modified:`}</h4>\n    <p>{`The product data is modified like `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`JSON.SET product:{productId} . '{ \"id\": \"productId\", \"name\": \"Product Name\", \"price\": \"375.00\", \"stock\": {newStock} }'.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"example-2\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`JSON.SET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 . '{ \"id\": \"e182115a-63d2-42ce-8fe0-5f696ecdfba6\", \"name\": \"Brilliant Watch\", \"price\": \"250.00\", \"stock\": 1 }'\n`}</code></pre>\n    <p>{`The cart data is modified like `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`HSET cart:{cartId} product:{productId} {newProductQuantity} or HINCRBY cart:{cartId} product:{productId} {incrementBy}.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"example-3\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`HSET cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 2\n\nHINCRBY cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 1\n\nHINCRBY cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 -1\n`}</code></pre>\n    <p>{`The product can be removed from the cart like `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`HDEL cart:{cartId} product:{productId}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"example-4\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`HDEL cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6\n`}</code></pre>\n    <p>{`The cart can be cleared using `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`HGETALL cart:{cartId} and then HDEL cart:{cartId} {productKey} in loop.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"example-5\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`HGETALL cart:77f7fc881edc2f558e683a230eac217d => product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, product:f9a6d214-1c38-47ab-a61c-c99a59438b12, product:1f1321bb-0542-45d0-9601-2a3d007d5842 => HDEL cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, HDEL cart:77f7fc881edc2f558e683a230eac217d product:f9a6d214-1c38-47ab-a61c-c99a59438b12, HDEL cart:77f7fc881edc2f558e683a230eac217d product:1f1321bb-0542-45d0-9601-2a3d007d5842\n`}</code></pre>\n    <p>{`All carts can be deleted when reset data is requested like: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{` SCAN {cursor} MATCH cart:* and then DEL cart:{cartId} in loop.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"example-6\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{` SCAN {cursor} MATCH cart:* => cart:77f7fc881edc2f558e683a230eac217d, cart:217dedc2f558e683a230eac77f7fc881, cart:1ede77f558683a230eac7fc88217dc2f => DEL cart:77f7fc881edc2f558e683a230eac217d, DEL cart:217dedc2f558e683a230eac77f7fc881, DEL cart:1ede77f558683a230eac7fc88217dc2f\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"how-the-data-is-accessed\"\n    }}>{`How the data is accessed:`}</h4>\n    <p>{`Products: SCAN {cursor} MATCH product:* to get all product keys and then JSON.GET {productKey}`}</p>\n    <h4 {...{\n      \"id\": \"example-7\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`SCAN {cursor} MATCH product:* => product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, product:f9a6d214-1c38-47ab-a61c-c99a59438b12, product:1f1321bb-0542-45d0-9601-2a3d007d5842 \n=> JSON.GET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, JSON.GET product:f9a6d214-1c38-47ab-a61c-c99a59438b1, JSON.GET product:1f1321bb-0542-45d0-9601-2a3d007d5842\n`}</code></pre>\n    <p>{`Cart: HGETALL cart:{cartId} to get quantity of products and JSON.GET product:{productId} to get products data in loop.`}</p>\n    <h4 {...{\n      \"id\": \"example-8\"\n    }}>{`Example:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`HGETALL cart:77f7fc881edc2f558e683a230eac217d => product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 (quantity: 1), product:f9a6d214-1c38-47ab-a61c-c99a59438b12 (quantity: 0), product:1f1321bb-0542-45d0-9601-2a3d007d5842 (quantity: 2) => JSON.GET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, JSON.GET product:f9a6d214-1c38-47ab-a61c-c99a59438b12, JSON.GET product:1f1321bb-0542-45d0-9601-2a3d007d5842\n`}</code></pre>\n    <p>{`HGETALL returns an array of keys and corresponding values from hash data type.\nOpen up RedisClient.js file using your favourite editor as shown below:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// services/RedisClient.js\n\nconst { promisify } = require('util');\n\nclass RedisClient {\n    constructor(redisClient) {\n        ['json_get', 'json_set', 'hgetall', 'hset', 'hget', 'hdel', 'hincrby', 'del', 'scan'].forEach(\n            method => (redisClient[method] = promisify(redisClient[method]))\n        );\n        this.redis = redisClient;\n    }\n\n    async scan(pattern) {\n        let matchingKeysCount = 0;\n        let keys = [];\n\n        const recursiveScan = async (cursor = '0') => {\n            const [newCursor, matchingKeys] = await this.redis.scan(cursor, 'MATCH', pattern);\n            cursor = newCursor;\n\n            matchingKeysCount += matchingKeys.length;\n            keys = keys.concat(matchingKeys);\n\n            if (cursor === '0') {\n                return keys;\n            } else {\n                return await recursiveScan(cursor);\n            }\n        };\n\n        return await recursiveScan();\n    }\n\n    jsonGet(key) {\n        return this.redis.json_get(key);\n    }\n\n    jsonSet(key, path, json) {\n        return this.redis.json_set(key, path, json);\n    }\n\n    hgetall(key) {\n        return this.redis.hgetall(key);\n    }\n\n    hset(hash, key, value) {\n        return this.redis.hset(hash, key, value);\n    }\n\n    hget(hash, key) {\n        return this.redis.hget(hash, key);\n    }\n\n    hdel(hash, key) {\n        return this.redis.hdel(hash, key);\n    }\n\n    hincrby(hash, key, incr) {\n        return this.redis.hincrby(hash, key, incr);\n    }\n\n    del(key) {\n        return this.redis.del(key);\n    }\n}\n\nmodule.exports = RedisClient;\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"how-does-the-overall-process-work\"\n    }}>{`How does the overall process work?`}</h4>\n    <p>{`The process flow is fairly straightforward. Once a request is sent to an endpoint on this shopping cart application e.g http://localhost:8081/. It first hits the router for that endpoint and then if it is a public endpoint such as this one it goes to the controller that handles that.  As an analogy, the controller is just like a manager, while the service is the worker. A controller manages the incoming work HTTP requests whereas services receives the request data it needs from the manager in order to perform its tasks`}</p>\n    <p>{`Next, we create routes for a cart in a module named cart.js. The code first imports the Express application object, uses it to get a Router object and then adds a couple of routes to it using the get() method. Last of all the module returns the Router object.`}</p>\n    <p>{`First let us define the product model to our controllers/Product/IndexController.js file(`}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/controllers/Product\"\n      }}>{`https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/controllers/Product`}</a>{`):`}</p>\n    <p>{`Our product model will be basic as possible as it holds the product name, price and image.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n    \"products\": [\n        {\n            \"id\": \"e182115a-63d2-42ce-8fe0-5f696ecdfba6\",\n            \"name\": \"Brilliant Watch\",\n            \"price\": \"250.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"f9a6d214-1c38-47ab-a61c-c99a59438b12\",\n            \"name\": \"Old fashion cellphone\",\n            \"price\": \"24.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"1f1321bb-0542-45d0-9601-2a3d007d5842\",\n            \"name\": \"Modern iPhone\",\n            \"price\": \"1000.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"f5384efc-eadb-4d7b-a131-36516269c218\",\n            \"name\": \"Beautiful Sunglasses\",\n            \"price\": \"12.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"6d6ca89d-fbc2-4fc2-93d0-6ee46ae97345\",\n            \"name\": \"Stylish Cup\",\n            \"price\": \"8.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"efe0c7a3-9835-4dfb-87e1-575b7d06701a\",\n            \"name\": \"Herb caps\",\n            \"price\": \"12.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"x341115a-63d2-42ce-8fe0-5f696ecdfca6\",\n            \"name\": \"Audiophile Headphones\",\n            \"price\": \"550.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"42860491-9f15-43d4-adeb-0db2cc99174a\",\n            \"name\": \"Digital Camera\",\n            \"price\": \"225.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"63a3c635-4505-4588-8457-ed04fbb76511\",\n            \"name\": \"Empty Bluray Disc\",\n            \"price\": \"5.00\",\n            \"stock\": 2\n        },\n        {\n            \"id\": \"97a19842-db31-4537-9241-5053d7c96239\",\n            \"name\": \"256BG Pendrive\",\n            \"price\": \"60.00\",\n            \"stock\": 2\n        }\n    ]\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"testing-the-server\"\n    }}>{`Testing the Server`}</h4>\n    <p>{`Copy `}<inlineCode parentName=\"p\">{`.env.example`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` file and fill environmental variables as shown below:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`REDIS_PORT=6379\nREDIS_HOST=127.0.0.1\nREDIS_PASSWORD=demo\n\nCOMPOSE_PROJECT_NAME=redis-shopping-cart\n`}</code></pre>\n    <p>{`(Note: In case you’re using Redis Enterprise Cloud instead of localhost, then you need to enter the database endpoint under REDIS_HOST(without port) while rest of the entries like REDIS_PORT and REDIS_PASSWORD are quite obvious)`}</p>\n    <h4 {...{\n      \"id\": \"installing-the-dependencies\"\n    }}>{`Installing the dependencies`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`$ npm install\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"testing-the-routes\"\n    }}>{`Testing the Routes`}</h4>\n    <p>{`After adding this, you can run your application by typing npm install in your terminal. Once you run this command, it will return Application is running on 3000.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ npm run dev\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{}}>{`$ npm run dev\n\n> redis-shopping-cart-backend@1.0.0 dev\n> nodemon src/index.js\n\n[nodemon] 2.0.7\n[nodemon] to restart at any time, enter \\`rs\\`\n[nodemon] watching path(s): *.*\n[nodemon] watching extensions: js,mjs,json\n[nodemon] starting \\`node src/index.js\\`\nApp listening on port 3000\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"setting-up-the-frontend-web-client-using-vuejs\"\n    }}>{`Setting up the frontend web Client using Vue.js`}</h3>\n    <p>{`Now that we have the application’s backend running, let us begin developing its frontend. We will be leveraging Vue.js - a robust but simple JavaScript framework for building our frontend web client. It has one of the lowest barriers to entry of any modern framework while providing all the required features for high performance web applications.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`.\n├── README.md\n├── babel.config.js\n├── node_modules\n├── package-lock.json\n├── package.json\n├── public\n├── src\n└── vue.config.js\n`}</code></pre>\n    <p>{`The files at the root level (babel.config.js, package.json, node_modules) are used to configure the project.\nThe most interesting part, at least for now, is located in the src directory(directory structure is shown below):`}</p>\n    <p>{`The main.js file is the main JavaScript file of the application, which will load all common elements and call the App.vue main screen.\nThe App.vue is a file that contains in the HTML, CSS, and JavaScript for a specific page or template. As an entry point for the application, this part is shared by all screens by default, so it is a good place to write the notification-client piece in this file.\nThe public/index.html is the static entry point from where the DOM will be loaded. `}</p>\n    <h4 {...{\n      \"id\": \"directory-structure\"\n    }}>{`Directory Structure:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`% tree\n.\n├── App.vue\n├── assets\n│   ├── RedisLabs_Illustration.svg\n│   └── products\n│       ├── 1f1321bb-0542-45d0-9601-2a3d007d5842.jpg\n│       ├── 42860491-9f15-43d4-adeb-0db2cc99174a.jpg\n│       ├── 63a3c635-4505-4588-8457-ed04fbb76511.jpg\n│       ├── 6d6ca89d-fbc2-4fc2-93d0-6ee46ae97345.jpg\n│       ├── 97a19842-db31-4537-9241-5053d7c96239.jpg\n│       ├── e182115a-63d2-42ce-8fe0-5f696ecdfba6.jpg\n│       ├── efe0c7a3-9835-4dfb-87e1-575b7d06701a.jpg\n│       ├── f5384efc-eadb-4d7b-a131-36516269c218.jpg\n│       ├── f9a6d214-1c38-47ab-a61c-c99a59438b12.jpg\n│       └── x341115a-63d2-42ce-8fe0-5f696ecdfca6.jpg\n├── components\n│   ├── Cart.vue\n│   ├── CartItem.vue\n│   ├── CartList.vue\n│   ├── Info.vue\n│   ├── Product.vue\n│   ├── ProductList.vue\n│   └── ResetDataBtn.vue\n├── config\n│   └── index.js\n├── main.js\n├── plugins\n│   ├── axios.js\n│   └── vuetify.js\n├── store\n│   ├── index.js\n│   └── modules\n│       ├── cart.js\n│       └── products.js\n└── styles\n    └── styles.scss\n\n8 directories, 27 files\n`}</code></pre>\n    <p>{`In the client directory, under the subdirectory src, open the file App.vue. You will see the below content:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<template>\n    <v-app>\n        <v-container>\n            <div class=\"my-8 d-flex align-center\">\n                <div class=\"pa-4 rounded-lg red darken-1\">\n                    <v-icon color=\"white\" size=\"45\">mdi-cart-plus</v-icon>\n                </div>\n                <h1 class=\"ml-6 font-weight-regular\">Shopping Cart demo</h1>\n            </div>\n        </v-container>\n\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\" sm=\"7\" md=\"8\">\n                    <info />\n                    <product-list :products=\"products\" />\n                </v-col>\n                <v-col cols=\"12\" sm=\"5\" md=\"4\" class=\"d-flex flex-column\">\n                    <cart />\n                    <reset-data-btn class=\"mt-6\" />\n                </v-col>\n            </v-row>\n\n            <v-footer class=\"mt-12 pa-0\">\n                © Copyright 2021 | All Rights Reserved to Redis Labs\n            </v-footer>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport Cart from '@/components/Cart';\nimport ProductList from '@/components/ProductList';\nimport ResetDataBtn from '@/components/ResetDataBtn.vue';\nimport Info from '@/components/Info';\n\nexport default {\n    name: 'App',\n\n    components: {\n        ProductList,\n        Cart,\n        ResetDataBtn,\n        Info\n    },\n\n    computed: {\n        ...mapGetters({\n            products: 'products/getProducts'\n        })\n    },\n\n    async created() {\n        await this.fetchProducts();\n    },\n\n    methods: {\n        ...mapActions({\n            fetchProducts: 'products/fetch'\n        })\n    }\n};\n</script>\n`}</code></pre>\n    <p>{`This is client-side code. Here API returns, among other things, links to icons suitable for use on Maps. If you follow the flow through, you’ll see the map markers are loading those icons directly using the include URLs.`}</p>\n    <h3 {...{\n      \"id\": \"runningtesting-the-web-client\"\n    }}>{`Running/Testing the web client`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`$ cd client\n$ npm run serve \n\n> redis-shopping-cart-client@1.0.0 serve\n> vue-cli-service serve\n\n INFO  Starting development server...\n98% after emitting CopyPlugin\n\n DONE  Compiled successfully in 7733ms                                                                                                                              7:15:56 AM\n\n\n  App running at:\n  - Local:   http://localhost:8081/ \n  - Network: http://192.168.43.81:8081/\n\n  Note that the development build is not optimized.\n  To create a production build, run npm run build.\n`}</code></pre>\n    <p>{`Let us click on the first item “256GB Pendrive” and try to check out this product. Once you add it to the cart, you will see the below output using redis-cli monitor command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`1613320256.801562 [0 172.22.0.1:64420] \"json.get\" \"product:97a19842-db31-4537-9241-5053d7c96239\"\n1613320256.803062 [0 172.22.0.1:64420] \"hget\" \n...\n1613320256.805950 [0 172.22.0.1:64420] \"json.set\" \"product:97a19842-db31-4537-9241-5053d7c96239\" \".\" \"{\\\\\"id\\\\\":\\\\\"97a19842-db31-4537-9241-5053d7c96239\\\\\",\\\\\"name\\\\\":\\\\\"256BG Pendrive\\\\\",\\\\\"price\\\\\":\\\\\"60.00\\\\\",\\\\\"stock\\\\\":1}\"\n1613320256.807792 [0 172.22.0.1:64420] \"set\" \"sess:Ii9njXZd6zeUViL3tKJimN5zU7Samfze\" \n...\n1613320256.823055 [0 172.22.0.1:64420] \"scan\" \"0\" \"MATCH\" \"product:*\"\n...\n1613320263.232527 [0 172.22.0.1:64420] \"hgetall\" \"cart:bdee1606395f69985e8f8e01d3ada8c4\"\n1613320263.233752 [0 172.22.0.1:64420] \"set\" \"sess:gXk5K9bobvrR790-HFEoi3bQ2kP9YmjV\" \"{\\\\\"cookie\\\\\":{\\\\\"originalMaxAge\\\\\":10800000,\\\\\"expires\\\\\":\\\\\"2021-02-14T19:31:03.233Z\\\\\",\\\\\"httpOnly\\\\\":true,\\\\\"path\\\\\":\\\\\"/\\\\\"},\\\\\"cartId\\\\\":\\\\\"bdee1606395f69985e8f8e01d3ada8c4\\\\\"}\" \"EX\" \"10800\"\n1613320263.240797 [0 172.22.0.1:64420] \"scan\" \"0\" \"MATCH\" \"product:*\"\n1613320263.241908 [0 172.22.0.1:64420] \"scan\" \"22\" \"MATCH\" \"product:*\"\n…\n\"{\\\\\"cookie\\\\\":{\\\\\"originalMaxAge\\\\\":10800000,\\\\\"expires\\\\\":\\\\\"2021-02-14T19:31:03.254Z\\\\\",\\\\\"httpOnly\\\\\":true,\\\\\"path\\\\\":\\\\\"/\\\\\"},\\\\\"cartId\\\\\":\\\\\"4bc231293c5345370f8fab83aff52cf3\\\\\"}\" \"EX\" \"10800\"\n`}</code></pre>\n    <p><img alt={\"Shopping Cart\"} src={require(\"!url-loader?limit=10000&name=assets/images/[name]-[hash].[ext]&fallback=file-loader!./shoppingcart5.png\").default} /></p>\n    <h3 {...{\n      \"id\": \"conclusion\"\n    }}>{`Conclusion`}</h3>\n    <p>{`Storing shopping cart data in Redis is a good idea because it lets you retrieve the data very fast at any time and persist this data if needed. As compared to cookies that store the entire shopping cart data in session that is bloated and relatively slow in operation, storing the shopping cart data in Redis speeds up the shopping cart’s read and write performance , thereby improving the user experience.`}</p>\n    <h3 {...{\n      \"id\": \"reference\"\n    }}>{`Reference`}</h3>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/redis-developer/basic-redis-shopping-chart-nodejs\"\n        }}>{`Source code`}</a></li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n  "]}]}